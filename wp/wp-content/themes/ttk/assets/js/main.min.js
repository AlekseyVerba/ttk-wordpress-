"use strict";objectFitImages();var element,oneCap,twoCap,swiper=new Swiper(".banner .swiper-container",{spaceBetween:30,loop:!0,pagination:{el:".banner .swiper-pagination",clickable:!0}});function checkInput(e){var n=!0;return e[0].querySelectorAll("input").forEach(function(e){!function(e){e.classList.contains("badForm")&&e.classList.remove("badForm");e.classList.contains("goodForm")&&e.classList.remove("goodForm");e.closest("[data-modal-Inputwrap]")&&e.closest("[data-modal-Inputwrap]").querySelector(".mistake")&&e.closest("[data-modal-Inputwrap]").querySelector(".mistake").remove()}(e);var t=e.value;switch(e.getAttribute("name")){case"name":t.length<2||""===t.trim()||/^[1-9]+$/.test(t)?(n=!1,a(e,"Введите правильное имя")):r(e);break;case"mail":""!=t.trim()&&!1===/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t)?(n=!1,a(e,"Введите правильную электронную почту")):r(e);break;case"phone":t.length<11||""===t.trim()||/^[a-zA-z]+$/.test(t)?(n=!1,a(e,"Некорректный номер телефона")):r(e);break;case"adress":t.length<15||""===t.trim?(n=!1,a(e,"Введите корректный адресс")):r(e);break;case"number-dog":16<t.length||""===t.trim?(n=!1,a(e,"Введите корректный номер договора")):r(e);break;case"checkbox":e.checked||(n=!1,a(e,"Необходимо подтверждение"))}}),n;function a(e,t){var n=document.createElement("div");n.classList.add("mistake"),n.textContent="".concat(t),e.closest("[data-modal-Inputwrap]").insertAdjacentElement("afterBegin",n),e.classList.add("badForm")}function r(e){e.classList.add("goodForm")}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype),function(){var e=[window.Element,window.CharacterData,window.DocumentType],t=[];e.forEach(function(e){e&&t.push(e.prototype)}),t.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}(),document.querySelectorAll("[data-question]").forEach(function(n){n.addEventListener("click",function(e){var t=e.target.closest(".questions__item").querySelector(".question__answer");t.classList.contains("question__answer--active")?(t.classList.remove("question__answer--active"),n.querySelector("[data-question-img]").style.opacity="1",n.querySelector("[data-question-img]").style.transform="rotate(0)",n.querySelector("[data-question-title]").classList.remove("questions__title--active"),$(t).hide(500)):(document.querySelectorAll(".question__answer--active").forEach(function(e){var t=e.closest(".questions__item").querySelector("[data-question-img]");console.log(t),t.style.opacity="1",t.style.transform="rotate(0)",console.log(e),e.classList.remove("question__answer--active"),$(e).hide(500)}),t.classList.add("question__answer--active"),$(t).show(500),n.querySelector("[data-question-img]").style.opacity="0.6",n.querySelector("[data-question-img]").style.transform="rotate(180deg)",n.querySelector("[data-question-title]").classList.add("questions__title--active"))})}),document.querySelectorAll(".wp-caption").forEach(function(e){var t,n,a;e.querySelector(".wp-caption-text")&&((n=(t=e.querySelector(".wp-caption-text")).textContent.length)<15?t.style.maxWidth="20%":15<=n&&n<=30?t.style.maxWidth="27%":31<=n&&n<=50?t.style.maxWidth="50%":51<=n&&n<=80?t.style.maxWidth="70%":81<=n&&(t.style.maxWidth="100%"),e.querySelector(".wp-caption-text").remove(),(a=document.createElement("div")).classList.add("wp-caption-text__wrapper"),a.append(t),e.append(a))}),document.querySelectorAll("header .header-down__wrapper").forEach(function(n){n.addEventListener("click",function(e){var t;document.querySelectorAll(".header-down__wrapper").forEach(function(e){e.querySelector("a").classList.remove("header-down-actiove-mobile")}),window.outerWidth<=976&&((t=n.querySelector("ul")).classList.contains("header-down__list-mobile")||t.classList.add("header-down__list-mobile"),t.classList.contains("header-down__list-block")&&(t.classList.remove("header-down__list-fadeIn"),t.classList.add("header-down__list-fadeOut"),setTimeout(function(){t.classList.remove("header-down__list-block")},300)),t.classList.contains("header-down__list-block")||(n.querySelector("a").classList.add("header-down-actiove-mobile"),document.querySelector(".header-down__list-block")&&document.querySelector(".header-down__list-block").classList.remove("header-down__list-block"),t.classList.add("header-down__list-block"),t.classList.remove("header-down__list-fadeOut"),setTimeout(function(){t.classList.add("header-down__list-fadeIn")},20)))})}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".search.current-item")&&(document.querySelector(".search.current-item").textContent="Поиск"),(-1<window.navigator.userAgent.indexOf("MSIE ")||-1<window.navigator.userAgent.indexOf("Trident/"))&&(document.querySelector(".svg-main").style.display="none")}),document.addEventListener("DOMContentLoaded",function(){var e,n;e="data-checkRate",n="rate__content-items--active",document.querySelectorAll("[".concat(e,"]")).forEach(function(e){var t=e.parentElement.nextElementSibling;e.checked?t.classList.add(n):t.classList.contains(n)&&t.classList.remove(n),e.addEventListener("change",function(e){e.target.checked?t.classList.add(n):t.classList.contains(n)&&t.classList.remove(n)})})}),document.addEventListener("DOMContentLoaded",function(){var L=[];document.querySelectorAll(".rate__content-card-add").forEach(function(e){e.addEventListener("click",function(){t(e)})});var q=[],E=[],S=[],A=[],k=[],x=[];function t(i){var e,t,n,a,r,o=[],c=i.closest(".rate__content-card--constructor");switch(i.classList.contains("rate__content-card-add")||(i=i.querySelector(".rate__content-card-add")),document.querySelector(".result__right-list .result__right-item--now")&&document.querySelector(".result__right-list .result__right-item--now").remove(),i.classList.contains("rate__content-card-add--active")?(i.classList.contains("rate__content-card-add")&&(t=(e=i.closest(".rate__content-items.rate__content-items--constructor ")).querySelectorAll(".rate__content-card.rate__content-card--constructor"),"Тематическое телевиденье"!==e.closest(".rate__content-wrapper").querySelector(".checkbox__text").textContent&&t.forEach(function(e){e!==c&&(e.classList.add("rate__content-card--constructor-no-active"),e.querySelector("button").setAttribute("disabled",!0))}),i.querySelector(".rate__content-plus").style.display="none",i.querySelector(".rate__content-galka").style.display="block"),L.push(i),i.classList.remove("rate__content-card-add--active")):(i.classList.contains("rate__content-card-add")&&(a=(n=i.closest(".rate__content-items.rate__content-items--constructor ")).querySelectorAll(".rate__content-card.rate__content-card--constructor"),"Тематическое телевиденье"!==n.closest(".rate__content-wrapper").querySelector(".checkbox__text").textContent&&a.forEach(function(e){e!==c&&(e.classList.remove("rate__content-card--constructor-no-active"),e.querySelector("button").removeAttribute("disabled"))}),i.querySelector(".rate__content-plus").style.display="block",i.querySelector(".rate__content-galka").style.display="none"),L=L.filter(function(e){return e!==i}),i.classList.add("rate__content-card-add--active")),+i.closest(".rate__content ").getAttribute("data-maincontent")){case 0:r="Для квартир";break;case 1:r="Для частных домов";break;case 2:r="Для бизнеса и организаций"}var s,l,d,u,m,_,p=i.closest(".rate__content-card").getAttribute("data-card-constructor-name"),h=i.closest(".rate__content-card").getAttribute("data-card-constructor-price");"Для квартир"==r?(s=[],l=[],q.forEach(function(e){e[0]!==p&&e[1]!==h&&s.push(e)}),E.forEach(function(e){e!==p&&l.push(e)}),q=s,E=l):"Для частных домов"==r?(d=[],u=[],S.forEach(function(e){e[0]!==p&&e[1]!==h&&d.push(e)}),A.forEach(function(e){e!==p&&u.push(e)}),S=d,A=u):"Для бизнеса и организаций"==r&&(m=[],_=[],k.forEach(function(e){e[0]!==p&&e[1]!==h&&m.push(e)}),x.forEach(function(e){e!==p&&_.push(e)}),k=m,x=_);(i.classList.contains("rate__content-card-add")?i.closest("[data-card-constructor]"):i).getAttribute("data-card-constructor-pay");L.forEach(function(e){var t,n;switch(+e.closest(".rate__content").getAttribute("data-maincontent")){case 0:n="Для квартир";break;case 1:n="Для частных домов";break;case 2:n="Для бизнеса и организаций"}10<(t=e.classList.contains("rate__content-card-add")?e.closest("[data-card-constructor]"):e).getAttribute("data-card-constructor-price").length&&t.setAttribute("data-card-constructor-price",0),null===t.getAttribute("data-card-constructor-price")&&t.setAttribute("data-card-constructor-price","month");var a=t.getAttribute("data-card-constructor-name"),r=t.getAttribute("data-card-constructor-price"),c=t.getAttribute("data-card-constructor-pay");function o(e,t,n,a,r){"month"===e?-1==n.indexOf(r)&&(n.push(r),t.push([r,a,e])):"now"===e&&-1==selectProd.indexOf(r)&&(selectProd.push(r),arrNow.push(a),t.push([r,a]))}var s=document.querySelector(".rate__catalog-link--active").textContent;"Для квартир"!=s||s!=n||i.classList.contains("rate__content-card-add--active")?"Для частных домов"!=s||s!=n||i.classList.contains("rate__content-card-add--active")?"Для бизнеса и организаций"!=s||s!=n||i.classList.contains("rate__content-card-add--active")||o(c,k,x,r,a):o(c,S,A,r,a):o(c,q,E,r,a)});var f,v,g=document.querySelector(".rate__catalog-link--active"),y=0;"Для квартир"==g.textContent?q.forEach(function(e){y+=+e[1]}):"Для частных домов"==g.textContent?S.forEach(function(e){y+=+e[1]}):"Для бизнеса и организаций"==g.textContent&&k.forEach(function(e){y+=+e[1]}),document.querySelector(".result__right-item-price--month").textContent="".concat(y," ₽"),1<=o.length&&(document.createElement("ul").classList.add("result__right-item"),f=0,"Для квартир"==g.textContent?priceObj.blago.priceNew.forEach(function(e){f+=+e}):"Для частных домов"==g.textContent?priceObj.private.priceNew.forEach(function(e){f+=+e}):"Для бизнеса и организаций"==g.textContent&&priceObj.legal.priceNew.forEach(function(e){f+=+e}),v=window.innerWidth<=375?"Одноразовая оплата:":"Единоразовая оплата:",document.querySelector(".result__right-item--month").insertAdjacentHTML("beforeBegin","\n        <li class='result__right-item result__right-item--now'>\n            <span class=\"result__right-item-name\">".concat(v,'</span>\n            <span class="result__right-item-price">').concat(f," ₽</span>\n        </li>\n    ")));var w=[];"Для квартир"==g.textContent?q.forEach(function(e){var t='\n                    <li class="result__left-item">\n                        <span class="result__left-item-name">'.concat(e[0],'</span>\n                        <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                   </li>\n            ");w.push(t)}):"Для частных домов"==g.textContent?S.forEach(function(e){var t='\n                    <li class="result__left-item">\n                        <span class="result__left-item-name">'.concat(e[0],'</span>\n                        <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                   </li>\n            ");w.push(t)}):"Для бизнеса и организаций"==g.textContent&&k.forEach(function(e){var t='\n                    <li class="result__left-item">\n                        <span class="result__left-item-name">'.concat(e[0],'</span>\n                        <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                   </li>\n            ");w.push(t)});var b=document.querySelector(".result__left-list");b.innerHTML="",w.forEach(function(e){b.innerHTML+=e}),document.querySelectorAll(".rate__catalog-link").forEach(function(c){c.addEventListener("click",function(){var t,e,n=0;"Для квартир"==c.textContent?q.forEach(function(e){n+=+e[1]}):"Для частных домов"==c.textContent?S.forEach(function(e){n+=+e[1]}):"Для бизнеса и организаций"==c.textContent&&k.forEach(function(e){n+=+e[1]}),document.querySelector(".result__right-item-price--month").textContent="".concat(n," ₽"),1<=o.length&&(document.createElement("ul").classList.add("result__right-item"),t=0,"Для квартир"==c.textContent?priceObj.blago.priceNew.forEach(function(e){t+=+e}):"Для частных домов"==c.textContent?priceObj.private.priceNew.forEach(function(e){t+=+e}):"Для бизнеса и организаций"==c.textContent&&priceObj.legal.priceNew.forEach(function(e){t+=+e}),e=window.innerWidth<=375?"Одноразовая оплата:":"Единоразовая оплата:",document.querySelector(".result__right-item--month").insertAdjacentHTML("beforeBegin","\n                <li class='result__right-item result__right-item--now'>\n                    <span class=\"result__right-item-name\">".concat(e,'</span>\n                    <span class="result__right-item-price">').concat(t," ₽</span>\n                </li>\n            ")));var a=[];"Для квартир"==c.textContent?q.forEach(function(e){var t='\n                    <li class="result__left-item">\n                        <span class="result__left-item-name">'.concat(e[0],'</span>\n                        <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                   </li>\n            ");a.push(t)}):"Для частных домов"==c.textContent?S.forEach(function(e){var t='\n                    <li class="result__left-item">\n                        <span class="result__left-item-name">'.concat(e[0],'</span>\n                        <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                   </li>\n            ");a.push(t)}):"Для бизнеса и организаций"==c.textContent&&k.forEach(function(e){var t='\n                    <li class="result__left-item">\n                        <span class="result__left-item-name">'.concat(e[0],'</span>\n                        <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                   </li>\n            ");a.push(t)});var r=document.querySelector(".result__left-list");r.innerHTML="",a.forEach(function(e){r.innerHTML+=e})})})}document.querySelector("[data-selected]")&&t(document.querySelector("[data-selected]")),document.querySelectorAll("[data-checkrate]").forEach(function(l){l.addEventListener("change",function(){if(!l.checked){var i,n,a,t,e,r,c,o,s;switch(document.querySelector(".result__right-list .result__right-item--now")&&document.querySelector(".result__right-list .result__right-item--now").remove(),+l.closest(".rate__content").getAttribute("data-maincontent")){case 0:i="Для квартир";break;case 1:i="Для частных домов";break;case 2:i="Для бизнеса и организаций"}l.closest(".rate__content-wrapper").querySelectorAll(".rate__content-card--constructor").forEach(function(e){var t,n,a,r,c,o,s=e.getAttribute("data-card-constructor-name");e.getAttribute("data-card-constructor-price");"Для квартир"==i?(t=[],n=[],q.forEach(function(e){e[0]!==s&&t.push(e)}),E.forEach(function(e){e!==s&&n.push(e)}),E=n,q=t):"Для частных домов"==i?(a=[],r=[],S.forEach(function(e){e[0]!==s&&a.push(e)}),A.forEach(function(e){e!==s&&r.push(e)}),A=r,S=a):"Для бизнеса и организаций"==i&&(c=[],o=[],k.forEach(function(e){e[0]!==s&&c.push(e)}),x.forEach(function(e){e!==s&&o.push(e)}),x=o,k=c)}),1<=L.length&&(n=0,a=l.parentElement.parentElement.getAttribute("class"),L.forEach(function(e,t){0===t&&n++,e.closest(".".concat(a)).querySelector("[type='checkbox']")===l&&1===n&&(l.parentElement.parentElement.querySelectorAll(".rate__content-plus").forEach(function(e){e.style.display="block"}),l.parentElement.parentElement.querySelectorAll(".rate__content-galka").forEach(function(e){e.style.display="none"}),l.parentElement.parentElement.querySelectorAll(".rate__content-card-add").forEach(function(e){e.classList.add("rate__content-card-add--active")}),l.parentElement.parentElement.querySelectorAll(".rate__content-card--constructor-no-active").forEach(function(e){e.classList.remove("rate__content-card--constructor-no-active")}),l.parentElement.parentElement.querySelectorAll("button").forEach(function(e){e.removeAttribute("disabled",!1)}),n++)}),(L=L.filter(function(e){return e.closest(".".concat(a)).querySelector("[type='checkbox']")!==l})).forEach(function(e){var t=e.closest("[data-card-constructor]");10<t.getAttribute("data-card-constructor-price").length&&t.setAttribute("data-card-constructor-price",0),null===t.getAttribute("data-card-constructor-price")&&t.setAttribute("data-card-constructor-price","month");var n=t.getAttribute("data-card-constructor-name"),a=t.getAttribute("data-card-constructor-price"),r=t.getAttribute("data-card-constructor-pay");function c(e,t,n,a,r,c,o){var s,i=c.closest(".rate__content").getAttribute("data-maincontent");0==i?s="Для квартир":1==i?s="Для частных домов":2==i&&(s="Для бизнеса и организаций"),"month"===e?-1==n.indexOf(r)&&s==o&&(n.push(r),t.push([r,a,e])):"now"===e&&-1==selectProd.indexOf(r)&&s==o&&t.push([r,a,e])}var o=document.querySelector(".rate__catalog-link--active").textContent;"Для квартир"!=o||o!=i||e.classList.contains("rate__content-card-add--active")?"Для частных домов"!=o||o!=i||e.classList.contains("rate__content-card-add--active")?"Для бизнеса и организаций"!=o||o!=i||e.classList.contains("rate__content-card-add--active")||c(r,k,x,a,n,t,"Для бизнеса и организаций"):c(r,S,A,a,n,t,"Для частных домов"):c(r,q,E,a,n,t,"Для квартир")}),t=0,"Для квартир"==i?q.forEach(function(e){t+=+e[1]}):"Для частных домов"==i&&S.forEach(function(e){t+=+e[1]}),"Для бизнеса и организаций"==i&&k.forEach(function(e){t+=+e[1]}),document.querySelector(".result__right-item-price--month").textContent="".concat(t," ₽"),e=document.querySelector(".rate__catalog-link--active"),r=0,"Для квартир"==e.textContent&&q.forEach(function(e){"now"==l[2]&&(r+=+e)}),document.createElement("ul").classList.add("result__right-item"),c=window.innerWidth<=375?"Одноразовая оплата:":"Единоразовая оплата:",document.querySelector(".result__right-item--month").insertAdjacentHTML("beforeBegin","\n                     <li class='result__right-item result__right-item--now'>\n                         <span class=\"result__right-item-name\">".concat(c,'</span>\n                         <span class="result__right-item-price">').concat(r," ₽</span>\n                     </li>\n                 ")),o=[],"Для квартир"==e.textContent?q.forEach(function(e){var t='\n                                 <li class="result__left-item">\n                                     <span class="result__left-item-name">'.concat(e[0],'</span>\n                                     <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                                </li>\n                         ");o.push(t)}):"Для частных домов"==e.textContent?S.forEach(function(e){var t='\n                                 <li class="result__left-item">\n                                     <span class="result__left-item-name">'.concat(e[0],'</span>\n                                     <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                                </li>\n                         ");o.push(t)}):"Для бизнеса и организаций"==e.textContent&&k.forEach(function(e){var t='\n                                 <li class="result__left-item">\n                                     <span class="result__left-item-name">'.concat(e[0],'</span>\n                                     <span class="result__left-item-price">').concat(e[1]," ₽</span>\n                                </li>\n                         ");o.push(t)}),(s=document.querySelector(".result__left-list")).innerHTML="",o.forEach(function(e){s.innerHTML+=e}))}})})}),$("input[name='phone']").mask("+7 (999) 99-99-999",{autoclear:!1}),document.querySelectorAll("input[name='phone']").forEach(function(t){t.addEventListener("input",function(e){8==t.value[4]&&(t.value=t.value.slice(0,4))})}),window.addEventListener("DOMContentLoaded",function(){$(".gallery").each(function(e,t){var n=$(this).find(".g-slider--top"),a=$(this).find(".g-slider--thumbs"),r=$(this).find(".g-slider__btn--prev"),c=$(this).find(".g-slider__btn--next"),o=new Swiper(a,{spaceBetween:15,slidesPerView:4,freeMode:!0,loop:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{639:{spaceBetween:12}}});new Swiper(n,{loop:!0,navigation:{nextEl:c,prevEl:r},thumbs:{swiper:o}})})});try{document.querySelector("#hamburger-icon").addEventListener("click",function(e){var t=e.target.closest("#hamburger-icon");t.classList.toggle("active"),t.classList.contains("active")?document.querySelector(".header-down nav").classList.add("header__nav-active"):document.querySelector(".header-down nav").classList.remove("header__nav-active")})}catch(e){}!function(){for(var e=document.querySelectorAll(".youtube"),t=0;t<e.length;t++){$(t).attr;var n="https://img.youtube.com/vi/"+e[t].dataset.embed+"/sddefault.jpg",a=new Image;a.src=n,a.addEventListener("load",void e[t].appendChild(a)),e[t].addEventListener("click",function(){var e=document.createElement("iframe");e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.embed+"?showinfo=1&autoplay=1&rel=0"),this.innerHTML="",this.appendChild(e)})}}(),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("iframe").forEach(function(e){e.hasAttribute("frameborder")&&(e.removeAttribute("frameborder"),e.style.border="0px")})});try{document.querySelector("[data-input-loup]").addEventListener("mouseenter",function(e){e.target.closest(".header-up__img").querySelector(".header-up__form-input").classList.add("header-up__form-input--active")}),document.querySelector("[data-input-loup]").addEventListener("mouseleave",function(e){setTimeout(function(){document.querySelector(".header-up__form-input").classList.remove("header-up__form-input--active")},500)})}catch(e){}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".header-down__wrapper .menu__submenu").forEach(function(e){var t=e.closest(".header-down__wrapper").querySelector(".header-down__link");t.classList.add("no-click"),t.addEventListener("click",function(e){e.preventDefault()})})});try{var openModal=function(e,t){var n=document.querySelectorAll(e),u=document.querySelector(t);n.forEach(function(d){d.addEventListener("click",function(){var e,t,n,a,r,c,o,s,i,l,m;u.classList.add("modal-active"),document.querySelector("body").style.overflow="hidden",null!==d.getAttribute("data-request")&&((e=document.createElement("input")).setAttribute("type","hidden"),d.closest(".rate__content-card")&&(n=(t=d.closest(".rate__content-card")).querySelector(".rate__content-card-header").textContent.trim(),a=u.querySelector(".modal__info-block"),!d.closest(".rate__content-item")||(r=d.closest(".rate__content-item")).querySelector("span.rate__checkbox")&&(c=r.querySelector("span.rate__checkbox").textContent.trim(),(o=document.createElement("input")).setAttribute("type","hidden"),o.value=c,o.name="service",o.classList.add("delete"),a.append(o)),document.querySelector(".rate__catalog-link--active")&&(s=document.querySelector(".rate__catalog-link--active").textContent.trim(),(i=document.createElement("input")).setAttribute("type","hidden"),i.value=s,i.name="category",i.classList.add("delete"),a.append(i)),e.value=n,e.name="nameCard",e.classList.add("delete"),a.append(e),(l=document.createElement("input")).setAttribute("type","hidden"),l.name="priceCard",l.classList.add("delete"),t.querySelector(".rate__content-card-price")?l.value=t.querySelector(".rate__content-card-price").textContent.trim():l.value=0,a.append(l))),d.closest(".result")&&(m=u.querySelector(".modal__info-block"),document.querySelector(".rate__content--active").querySelectorAll(".rate__content-galka").forEach(function(e){var t,n,a,r,c,o,s,i,l,d,u;"block"==window.getComputedStyle(e).display&&(n=(t=e.closest(".rate__content-card")).querySelector(".rate__content-card-header").textContent.trim(),a="",a=t.querySelector(".rate__content-card-price")?t.querySelector(".rate__content-card-price").textContent.trim():"0 ₽",c=(r=t.closest(".rate__content-wrapper")).querySelector("div.checkbox__text").textContent.trim(),o=r.closest(".rate__content").getAttribute("data-maincontent"),s=document.querySelector('[data-maintab="'.concat(o,'"]')).textContent.trim(),i=document.createElement("input"),l=document.createElement("input"),d=document.createElement("input"),u=document.createElement("input"),i.setAttribute("type","hidden"),i.value=n,i.name="nameCard",i.classList.add("delete"),l.setAttribute("type","hidden"),l.value=c,l.name="service",l.classList.add("delete"),d.setAttribute("type","hidden"),d.value=s,d.name="category",d.classList.add("delete"),u.setAttribute("type","hidden"),u.value=a,u.name="priceCard",u.classList.add("delete"),m.append(d),m.append(l),m.append(i),m.append(u))}))})}),u.addEventListener("mousedown",function(e){(e.target.classList.contains("modal-active")||e.target.classList.contains("modal__close"))&&(u.classList.remove("modal-active"),document.querySelector("body").style.overflow="",u.querySelector(".delete")&&u.querySelectorAll(".delete").forEach(function(e){e.remove()}))})};try{openModal("[data-application]","[data-modal]")}catch(e){}try{openModal("[data-request]","[data-modal-request]")}catch(e){}try{openModal("[data-addQuestion]","[data-modal-question]")}catch(e){}}catch(e){}try{var soundVolume=!0;document.querySelectorAll("[data-radioBtn]").forEach(function(t){t.addEventListener("click",function(e){t.classList.contains("radio__pause")?(soundVolume&&(document.getElementById("radio_player").volume=.5,soundVolume=!1),t.classList.remove("radio-btn--active"),document.querySelector(".radio__play").classList.add("radio-btn--active"),console.log(document.getElementById("radio_player")),document.getElementById("radio_player").play()):(t.classList.remove("radio-btn--active"),document.querySelector(".radio__pause").classList.add("radio-btn--active"),document.getElementById("radio_player").pause())})});var sound=document.querySelector("[data-sound]");sound.addEventListener("click",function(){var e=sound.closest(".radio__menu"),t=sound.closest(".sound"),n=t.querySelector(".sound__wrapper"),a=t.querySelector(".radio__sound-regular"),r=document.querySelector(".radio__range");t.classList.contains("sound--active")?(t.classList.remove("sound--active"),a.classList.remove("radio__sound-regular--active"),n.classList.remove("sound__wrapper--active"),1236<=window.innerWidth&&(r.style.width="66%"),e.style.width="7%"):(t.classList.add("sound--active"),a.classList.add("radio__sound-regular--active"),n.classList.add("sound__wrapper--active"),1236<=window.innerWidth?(r.style.width="64%",e.style.width="15%"):e.style.width="25%")});var userAgent=navigator.userAgent.toLowerCase(),InternetExplorer=!1;(!/mozilla/.test(userAgent)||/firefox/.test(userAgent)||/chrome/.test(userAgent)||/safari/.test(userAgent)||/opera/.test(userAgent))&&!/msie/.test(userAgent)||(InternetExplorer=!0),InternetExplorer?document.querySelector(".radio__sound-regular").addEventListener("change",function(e){var t=100==e.target.value?1:e.target.value<=9?"0.0".concat(e.target.value):0===e.target.value?0:"0.".concat(e.target.value);document.getElementById("radio_player").volume=t}):document.querySelector(".radio__sound-regular").addEventListener("input",function(e){var t=100==e.target.value?1:e.target.value<=9?"0.0".concat(e.target.value):0===e.target.value?0:"0.".concat(e.target.value);document.getElementById("radio_player").volume=t});var footerDown=document.querySelector(".footer__down");window.outerWidth<=1100?footerDown.addEventListener("click",function(e){var t=footerDown.querySelector(".footer__down-mobile-container"),n=footerDown.querySelector(".footer__down-desc-container");e.target.closest(".radio__pause")||e.target.closest(".radio__play")||e.target.closest(".radio__sound")||(t.classList.contains("footer__down-mobile-container--active")?(t.classList.remove("footer__down-mobile-container--active"),n.classList.add("footer__down-desc-container--active")):(t.classList.add("footer__down-mobile-container--active"),n.classList.remove("footer__down-desc-container--active")))}):(footerDown.addEventListener("mousemove",function(){var e=footerDown.querySelector(".footer__down-mobile-container"),t=footerDown.querySelector(".footer__down-desc-container");e.classList.remove("footer__down-mobile-container--active"),t.classList.add("footer__down-desc-container--active")}),footerDown.addEventListener("mouseleave",function(){var e=footerDown.querySelector(".footer__down-mobile-container"),t=footerDown.querySelector(".footer__down-desc-container");e.classList.add("footer__down-mobile-container--active"),t.classList.remove("footer__down-desc-container--active")}))}catch(e){}function onloadCallback(){setTimeout(function(){console.log("работает"),document.querySelector("#capcha1")&&(oneCap=grecaptcha.render("capcha1",{sitekey:"6LcprRkbAAAAAEBQCjQ_te7OhFSjE22sqgGpafGz"})),document.querySelector("#capcha2")&&(twoCap=grecaptcha.render("capcha2",{sitekey:"6LcprRkbAAAAAEBQCjQ_te7OhFSjE22sqgGpafGz"}))},4e3)}function sendForm(e){$(e).on("submit",function(e){e.preventDefault(),$(this).children("#recaptchaError")&&$(this).children("#recaptchaError").text("");var t,n,a,r=!1;if(0!==$(this).children(".g-recaptcha").length&&(r=!0),!0===r){switch(console.log($(this).children(".g-recaptcha").attr("id")),$(this).children(".g-recaptcha").attr("id")){case"capcha2":t=grecaptcha.getResponse(twoCap);break;default:t=grecaptcha.getResponse()}t.length?$("#recaptchaError").text(""):$("#recaptchaError").text('* Вы не прошли проверку "Я не робот"')}checkInput($(this))&&(!1===r||t.length)&&(n=$(this).serializeArray(),a=$(this).attr("action"),$.post(myajax.url,{form:n,action:a},function(e){for(var t=0;t<$("form").length;t++)$("form")[t].reset();document.querySelector(".modal-active")&&document.querySelector(".modal-active").classList.remove("modal-active"),document.querySelector(".delete")&&document.querySelectorAll(".delete").forEach(function(e){e.remove()}),document.querySelector(".modal--send").classList.add("modal-active"),setTimeout(function(){document.querySelector(".modal-active")&&(document.querySelector(".modal-active").classList.remove("modal-active"),document.querySelector("body").style.overflow="")},4e3)}))})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".rate__content-item").forEach(function(e){0===e.querySelectorAll(".rate__content-card").length&&e.remove()}),document.querySelectorAll(".rate__content").forEach(function(e){var t;e.querySelector(".rate__content-item")||(t=e.getAttribute("data-maincontent"),document.querySelector('[data-maintab="'.concat(t,'"]'))&&document.querySelector('[data-maintab="'.concat(t,'"]')).remove())}),document.querySelector(".rate--constructor")||document.querySelectorAll("[data-maintab]").forEach(function(e,t){var n;e.classList.remove("rate__catalog-link--active"),0===t&&(n=e.getAttribute("data-maintab"),document.querySelector('[data-maincontent="'.concat(n,'"]')).classList.add("rate__content--active"),e.classList.add("rate__catalog-link--active"))})}),window.addEventListener("resize",function(){977<=window.outerWidth&&(document.querySelector(".header-down-actiove-mobile")&&document.querySelector(".header-down-actiove-mobile").classList.remove("header-down-actiove-mobile"),document.querySelectorAll(".header-down__list-mobile")&&document.querySelectorAll(".header-down__list-mobile").forEach(function(e){e.classList.contains("header-down__list-mobile")&&e.classList.remove("header-down__list-mobile"),e.classList.contains("header-down__list-block")&&e.classList.remove("header-down__list-block"),e.classList.contains("header-down__list-fadeIn")&&e.classList.remove("header-down__list-fadeIn")}))}),console.log(window.location.href),-1!==window.location.href.indexOf("t-tk")&&((element=document.createElement("script")).src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit",element.classList.add("google-script"),element.async=!0,document.head.appendChild(element)),sendForm(".block-question__form"),sendForm(".modal__form--zayvka"),sendForm(".modal__form--contact"),sendForm(".white-form__form");try{document.addEventListener("DOMContentLoaded",function(){!function(r,e,t,n){var c=1<arguments.length&&void 0!==e?e:"",o=2<arguments.length&&void 0!==t?t:"",s=3<arguments.length&&void 0!==n?n:"",i=document.querySelectorAll(r),l=document.querySelectorAll("[".concat(c,"]"));i.forEach(function(e){e.addEventListener("click",function(e){var n=e.target;i.forEach(function(e,t){e.classList.remove(o),e===n&&e.classList.add(o)}),l.forEach(function(e,t){e.classList.remove(s)});var t=r.slice(1,-1),a=n.getAttribute(t);document.querySelector("[".concat(c,'="').concat(a,'"]')).classList.add(s)})})}("[data-mainTab]","data-mainContent","rate__catalog-link--active","rate__content--active")})}catch(e){}try{var tab,contents=document.querySelectorAll(".page [data-content]").forEach(function(e,t){e.classList.remove("page__content--active"),0===t&&e.classList.add("page__content--active")});window.outerWidth<=976&&(tab=document.querySelector(".page__right--tabs")).addEventListener("click",function(e){var t;e.target.closest(".page__right-item--active")&&(t=e.target.closest(".page__right-item--active")),t.classList.contains("page__right-item--active")&&(t.closest(".page__right-list--active")?(t.closest("ul").classList.remove("page__right-list--active"),t.closest(".page__right--tabs").classList.remove("page__right--tabs-active")):(t.closest(".page__right--tabs").classList.add("page__right--tabs-active"),t.closest("ul").classList.add("page__right-list--active")))});var btns=document.querySelectorAll(".page [data-tab]").forEach(function(a,e){a.classList.remove("page__right-item--active"),0===e&&a.classList.add("page__right-item--active"),a.addEventListener("click",function(e){var t=a.getAttribute("data-tab"),n=document.querySelector("[data-content='".concat(t,"']"));document.querySelectorAll(".page__right-item--active").forEach(function(e,t){e.classList.remove("page__right-item--active")}),document.querySelectorAll(".page__content--active").forEach(function(e,t){e.classList.remove("page__content--active")}),n.classList.add("page__content--active"),a.classList.add("page__right-item--active")})})}catch(e){}if($("#preloader")){var img_load=function(){loadedImg++,(100<=(progress+=percent)||loadedImg==imagesCount)&&(preloader.delay(200).fadeOut("slow"),clearInterval(time)),$(".dws-progress-bar").circularProgress("animate",progress,500)},preloader=$("#preloader"),imagesCount=$("img").length,percent=100/imagesCount,progress=0,loadedImg=0;document.querySelector("#preloader").style.display="block";var time=setInterval(function(){count++,document.querySelector("#preloader").style.backgroundPosition="-".concat(count,"px")},7);$(".dws-progress-bar").circularProgress({color:"#D22730",line_width:10,height:"110px",width:"110px",percent:0,counter_clockwise:!1,starting_position:200}).circularProgress("animate",percent,1e3);for(var i=0;i<imagesCount;i++){var img_copy=new Image;img_copy.src=document.images[i].src,img_copy.onload=img_load,img_copy.onerror=img_load}var count=0}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImEtc2xpZGVyLmpzIiwic2VuZEZvcm0uanMiLCJmb3JtLmpzIiwiYWFhcG9sbGlmeWwuanMiLCJhY2NhcmRlb24uanMiLCJhZGRCbG9ja1dyYXBwZXIuanMiLCJhbmltYXRlLmpzIiwiYnJlYWRjcnVtYnMuanMiLCJjaGVja2VkLmpzIiwiY29uc3RydWN0b3IuanMiLCJnLXNsaWRlci5qcyIsImh1bWJ1cmdlci5qcyIsImlmcmFtZS5qcyIsImlmcmFtZUltcHJvdmUuanMiLCJsb3VwLmpzIiwibWVudS5qcyIsIm1vZGFsLmpzIiwicmFkaW8uanMiLCJyZW1vdmVCbG9jay5qcyIsInJlc2l6ZS5qcyIsInRhYnMtbWFpbi5qcyIsInRhYnMuanMiLCJfcHJlbG9hZGVyLmpzIl0sIm5hbWVzIjpbIm9iamVjdEZpdEltYWdlcyIsImVsZW1lbnQiLCJvbmVDYXAiLCJ0d29DYXAiLCJzd2lwZXIiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJsb29wIiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwiY2hlY2tJbnB1dCIsIml0ZW0iLCJzZW5kRm9ybSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaW5wdXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImNsb3Nlc3QiLCJxdWVyeVNlbGVjdG9yIiwiY2xlYXJJbmZvSW5wdXQiLCJ2YWwiLCJ2YWx1ZSIsImdldEF0dHJpYnV0ZSIsImxlbmd0aCIsInRyaW0iLCJ0ZXN0IiwiY3JlYXRlTWlzdGFrZSIsImNyZWF0ZUdvb2RSZXN1bHQiLCJjaGVja2VkIiwidGV4dE1pc3Rha2UiLCJtaXN0YWtlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwidGV4dENvbnRlbnQiLCJjb25jYXQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJ3aW5kb3ciLCJOb2RlTGlzdCIsInByb3RvdHlwZSIsImNhbGxiYWNrIiwidGhpc0FyZyIsImkiLCJ0aGlzIiwiY2FsbCIsIkVMRU1FTlQiLCJtYXRjaGVzIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwic2VsZWN0b3IiLCJwYXJlbnRFbGVtZW50IiwiRWxlbWVudCIsImFyciIsIkNoYXJhY3RlckRhdGEiLCJEb2N1bWVudFR5cGUiLCJhcmdzIiwicHVzaCIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsInN0eWxlIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsIiQiLCJoaWRlIiwiYWN0aXZlSXRlbSIsInBhcmVudFdyYXAiLCJjb25zb2xlIiwibG9nIiwic2hvdyIsInBhciIsInRleHQiLCJ3cmFwcGVyIiwibWF4V2lkdGgiLCJhcHBlbmQiLCJsaXN0IiwiZWxlbSIsIm91dGVyV2lkdGgiLCJzZXRUaW1lb3V0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImRpc3BsYXkiLCJzZWxlY3RvckNoZWNrIiwiYWN0aXZlQ2xhc3MiLCJjaGVjayIsImNvbnRlbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJlbGVtZW50cyIsImFkZEVsZW1lbnQiLCJmdWxsSW5mb0JsYWdvIiwic2VsZWN0ZWRCbGFnbyIsImZ1bGxJbmZvUHJpdmF0ZSIsInNlbGVjdGVkUHJpdmF0ZSIsImZ1bGxJbmZvTGVnYWwiLCJzZWxlY3RlZExlZ2FsIiwiYWxsQ2FyZEluV3JhcCIsImFjdGl2ZUNhdGVnb3J5T25lTmFtZSIsInByaWNlTm93IiwicGFyZW50QnRuIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlsdGVyIiwiYXJyQ2hlY2siLCJ3aXRob3V0RWwiLCJuYW1lQ2FyZE1vbWVudCIsInByaWNlQ2FyZE1vbWVudCIsImNhcmQiLCJuYW1lQ2F0ZWdvcnlDYXJkTW9tZW50IiwicGFyZW50Q2FyZE5hbWUiLCJjYXJkUHJpY2UiLCJjYXJkUGF5IiwiYWRkUHJpY2UiLCJ0eXBlQ2FyZCIsImZ1bGxJbmZvIiwic2VsZWN0ZWRJdGVtcyIsInByaWNlIiwibmFtZUNhcmQiLCJzZWxlY3RQcm9kIiwiYXJyTm93IiwibmFtZUFjdGl2ZUNhdGVnb3J5IiwiY291bnROb3ciLCJzdHIiLCJ0YWJBY3RpdmUiLCJjb3VudCIsInByaWNlQ2FyZCIsInByaWNlT2JqIiwiYmxhZ28iLCJwcmljZU5ldyIsInByaXZhdGUiLCJsZWdhbCIsImlubmVyV2lkdGgiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJhcnJWaWV3IiwiZWxWaWV3IiwicGFyZW50IiwiaW5uZXJIVE1MIiwidGFiIiwiY2hldCIsInBhcmVudFNlbCIsInBsdXMiLCJnYWwiLCJ3cmFwIiwiYmxvY2siLCJjYXRlZ29yeSIsIm5hbWVDYXRlZ29yeSIsImlkIiwiaXRlbU5vdyIsIm1hc2siLCJhdXRvY2xlYXIiLCJzbGljZSIsImVhY2giLCJpdGVtX3RvcCIsImZpbmQiLCJpdGVtX3RodW1iIiwicHJldiIsIm5leHQiLCJnYWxsZXJ5VGh1bWJzIiwic2xpZGVzUGVyVmlldyIsImZyZWVNb2RlIiwid2F0Y2hTbGlkZXNWaXNpYmlsaXR5Iiwid2F0Y2hTbGlkZXNQcm9ncmVzcyIsImJyZWFrcG9pbnRzIiwiNjM5IiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInRodW1icyIsInRvZ2dsZSIsIl91bnVzZWQiLCJ5b3V0dWJlIiwiYXR0ciIsInNvdXJjZSIsImRhdGFzZXQiLCJlbWJlZCIsImltYWdlIiwiSW1hZ2UiLCJzcmMiLCJhcHBlbmRDaGlsZCIsImlmcmFtZSIsImhhc0F0dHJpYnV0ZSIsImJvcmRlciIsIl91bnVzZWQyIiwibGluayIsInByZXZlbnREZWZhdWx0Iiwib3Blbk1vZGFsIiwiYnRuc1NlbGVjdG9yIiwibW9kYWxTZWxlY3RvciIsImJ1dHRvbnMiLCJtb2RhbCIsImJ1dHRvbiIsImlucHV0Q2FyZCIsImZvcm1Nb2RhbCIsInRhcmlmIiwidGFyaWZUZXh0IiwidGFyaWZJbnAiLCJzZXJ2aWNlTmFtZSIsImlucHV0U2VydmljZSIsImlucHV0UHJpY2UiLCJvdmVyZmxvdyIsIm5hbWUiLCJjYXJkTmFtZSIsInNlcnZpY2VXcmFwIiwiY2F0YWxvZ05hbWUiLCJpbnBDYXJkTmFtZSIsImlucFNlcnZpY2VOYW1lIiwiaW5wQ2F0YWxvZ05hbWUiLCJpbnBDYXJkUHJpY2UiLCJnZXRDb21wdXRlZFN0eWxlIiwiX3VudXNlZDMiLCJfdW51c2VkNCIsIl91bnVzZWQ1IiwiX3VudXNlZDYiLCJzb3VuZFZvbHVtZSIsImdldEVsZW1lbnRCeUlkIiwidm9sdW1lIiwicGxheSIsInBhdXNlIiwic291bmQiLCJwYXJlbnRNZW51IiwicmVndWxhciIsInJhbmdlIiwid2lkdGgiLCJ0b0xvd2VyQ2FzZSIsIkludGVybmV0RXhwbG9yZXIiLCJmb290ZXJEb3duIiwibWluaVJhZGlvIiwibWFpblJhZGlvIiwiX3VudXNlZDciLCJvbmxvYWRDYWxsYmFjayIsImdyZWNhcHRjaGEiLCJyZW5kZXIiLCJzaXRla2V5Iiwib24iLCJjaGlsZHJlbiIsImNhcHRjaGEiLCJmb3JtIiwiYWN0aW9uIiwiY2FwSGF2ZSIsImdldFJlc3BvbnNlIiwic2VyaWFsaXplQXJyYXkiLCJwb3N0IiwibXlhamF4IiwidXJsIiwiZGF0YSIsInJlc2V0IiwibG9jYXRpb24iLCJocmVmIiwiYXN5bmMiLCJoZWFkIiwiYnRuU2VsZWN0b3IiLCJjb250ZW50U2VsZWN0b3IiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJhY3RpdmVDbGFzc0J0biIsImFjdGl2ZUNsYXNzQ29udGVudCIsImJ0bnMiLCJjb250ZW50cyIsInNlbGVjdG9yV2l0aG91dEJyYWNrZXQiLCJ0YWJzIiwiX3VudXNlZDgiLCJpZEJ0biIsImNvbnRlbnRXaXRoSWQiLCJidG5PbGQiLCJpbmRleCIsImNvbnRlbnRPbGQiLCJfdW51c2VkOSIsImltZ19sb2FkIiwibG9hZGVkSW1nIiwicHJvZ3Jlc3MiLCJwZXJjZW50IiwiaW1hZ2VzQ291bnQiLCJwcmVsb2FkZXIiLCJkZWxheSIsImZhZGVPdXQiLCJjbGVhckludGVydmFsIiwidGltZSIsImNpcmN1bGFyUHJvZ3Jlc3MiLCJzZXRJbnRlcnZhbCIsImJhY2tncm91bmRQb3NpdGlvbiIsImNvbG9yIiwibGluZV93aWR0aCIsImhlaWdodCIsImNvdW50ZXJfY2xvY2t3aXNlIiwic3RhcnRpbmdfcG9zaXRpb24iLCJpbWdfY29weSIsImltYWdlcyIsIm9ubG9hZCIsIm9uZXJyb3IiXSwibWFwcGluZ3MiOiJhQUFBQSxrQkFDQSxJQ0lBQyxRQWNBQyxPQUNBQyxPRG5CQUMsT0FBQSxJQUFBQyxPQUFBLDRCQUFBLENBQ0FDLGFBQUEsR0FHQUMsTUFBQSxFQUNBQyxXQUFBLENBQ0FDLEdBQUEsNkJBQ0FDLFdBQUEsS0VSQSxTQUFBQyxXQUFBQyxHQUNBLElBQUFDLEdBQUEsRUFpRUEsT0FoRUFELEVBQUEsR0FJQUUsaUJBQUEsU0FBQUMsUUFBQSxTQUFBQyxJQStEQSxTQUFBQSxHQUNBQSxFQUFBQyxVQUFBQyxTQUFBLFlBQ0FGLEVBQUFDLFVBQUFFLE9BQUEsV0FFQUgsRUFBQUMsVUFBQUMsU0FBQSxhQUNBRixFQUFBQyxVQUFBRSxPQUFBLFlBRUFILEVBQUFJLFFBQUEsMkJBQUFKLEVBQUFJLFFBQUEsMEJBQUFDLGNBQUEsYUFDQUwsRUFBQUksUUFBQSwwQkFBQUMsY0FBQSxZQUFBRixTQXRFQUcsQ0FBQU4sR0FDQSxJQUFBTyxFQUFBUCxFQUFBUSxNQUNBLE9BQUFSLEVBQUFTLGFBQUEsU0FDQSxJQUFBLE9BQ0FGLEVBQUFHLE9BQUEsR0FBQSxLQUFBSCxFQUFBSSxRQUFBLFdBQUFDLEtBQUFMLElBQ0FWLEdBQUEsRUFDQWdCLEVBQUFiLEVBQUEsMkJBRUFjLEVBQUFkLEdBRUEsTUFFQSxJQUFBLE9BQ0EsSUFBQU8sRUFBQUksU0FFQSxJQUFBLDhEQUFBQyxLQUFBTCxJQUNBVixHQUFBLEVBQ0FnQixF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RUEsSUFBQS9JLE1BQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm9iamVjdEZpdEltYWdlcygpO1xudmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5iYW5uZXIgLnN3aXBlci1jb250YWluZXInLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAvLyBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIC8vIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuYmFubmVyIC5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlLFxuICAgIH0sXG59KTsiLCIvLyBpbXBvcnQgY2hlY2tJbnB1dCBmcm9tIFwiLi9mb3JtXCI7XHJcblxyXG5cclxuY29uc29sZS5sb2cod2luZG93LmxvY2F0aW9uLmhyZWYgKVxyXG4gIGlmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJ0LXRrXCIpICE9PSAtMSkge1xyXG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICBcclxuICAgIGVsZW1lbnQuc3JjPSAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzP29ubG9hZD1vbmxvYWRDYWxsYmFjayZyZW5kZXI9ZXhwbGljaXQnO1xyXG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZ29vZ2xlLXNjcmlwdFwiKTtcclxuICAgIGVsZW1lbnQuYXN5bmMgPSB0cnVlO1xyXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gIC8vICAgdmFyIG9uZUNhcDtcclxuICAvLyAgIHZhciB0d29DYXA7XHJcblxyXG5cclxuICAvLyB9LCA0MDAwKTtcclxuICB2YXIgb25lQ2FwO1xyXG4gIHZhciB0d29DYXA7XHJcbiAgZnVuY3Rpb24gb25sb2FkQ2FsbGJhY2soKSB7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCLRgNCw0LHQvtGC0LDQtdGCXCIpXHJcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcGNoYTFcIikgKSB7XHJcbiAgICAgICAgb25lQ2FwID0gZ3JlY2FwdGNoYS5yZW5kZXIoJ2NhcGNoYTEnLCB7XHJcbiAgICAgICAgICAnc2l0ZWtleScgOiAnNkxjcHJSa2JBQUFBQUVCUUNqUV90ZTdPaEZTakUyMnNxZ0dwYWZHeicsXHJcbiAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcGNoYTJcIikpIHtcclxuICAgICAgICB0d29DYXAgPSBncmVjYXB0Y2hhLnJlbmRlcignY2FwY2hhMicsIHtcclxuICAgICAgICAgICdzaXRla2V5JyA6ICc2TGNwclJrYkFBQUFBRUJRQ2pRX3RlN09oRlNqRTIyc3FnR3BhZkd6J1xyXG4gICAgICB9KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgfSwgNDAwMCk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGZ1bmN0aW9uIHNlbmRGb3JtKGl0ZW0pIHtcclxuICBcclxuICAgICQoaXRlbSkub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaWYgKCQodGhpcykuY2hpbGRyZW4oXCIjcmVjYXB0Y2hhRXJyb3JcIikpIHtcclxuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKFwiI3JlY2FwdGNoYUVycm9yXCIpLnRleHQoJycpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGFsZXJ0KG15QWpheC5hamFybCk7XHJcbiAgICAgIGxldCBjYXBIYXZlID0gZmFsc2VcclxuICAgICAgaWYgKCQodGhpcykuY2hpbGRyZW4oXCIuZy1yZWNhcHRjaGFcIikubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgY2FwSGF2ZSA9IHRydWVcclxuICAgICAgfVxyXG4gICAgICB2YXIgY2FwdGNoYVxyXG4gICAgICBpZiAoY2FwSGF2ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCQodGhpcykuY2hpbGRyZW4oXCIuZy1yZWNhcHRjaGFcIilbMF0uYXR0cignaWQnKSlcclxuICAgICAgICBjb25zb2xlLmxvZygkKHRoaXMpLmNoaWxkcmVuKFwiLmctcmVjYXB0Y2hhXCIpLmF0dHIoJ2lkJykpXHJcbiAgICAgICAgc3dpdGNoICgkKHRoaXMpLmNoaWxkcmVuKFwiLmctcmVjYXB0Y2hhXCIpLmF0dHIoJ2lkJykpIHtcclxuICAgICAgICAgIGNhc2UgXCJjYXBjaGEyXCI6XHJcbiAgICAgICAgICAgIGNhcHRjaGEgPSBncmVjYXB0Y2hhLmdldFJlc3BvbnNlKHR3b0NhcCk7XHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjYXB0Y2hhID0gZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjYXB0Y2hhID0gZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgkKHRoaXMpLmNoaWxkcmVuKFwiLmctcmVjYXB0Y2hhXCIpLmF0dHIoJ2lkJykpO1xyXG4gICAgICAgIGlmICghY2FwdGNoYS5sZW5ndGgpIHtcclxuICAgICAgICAgIC8vINCS0YvQstC+0LTQuNC8INGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtVxyXG4gICAgICAgICAgJCgnI3JlY2FwdGNoYUVycm9yJykudGV4dCgnKiDQktGLINC90LUg0L/RgNC+0YjQu9C4INC/0YDQvtCy0LXRgNC60YMgXCLQryDQvdC1INGA0L7QsdC+0YJcIicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyDQv9C+0LvRg9GH0LDQtdC8INGN0LvQtdC80LXQvdGCLCDRgdC+0LTQtdGA0LbQsNGJ0LjQuSDQutCw0L/Rh9GDXHJcbiAgICAgICAgICAkKCcjcmVjYXB0Y2hhRXJyb3InKS50ZXh0KCcnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKChjaGVja0lucHV0KCQodGhpcykpKSAmJiAoY2FwSGF2ZSA9PT0gZmFsc2UgfHwgY2FwdGNoYS5sZW5ndGgpKSB7XHJcbiAgICAgICAgICB2YXIgZm9ybSA9ICQodGhpcykuc2VyaWFsaXplQXJyYXkoKTtcclxuICAgICAgICAgIHZhciBhY3Rpb24gPSAkKHRoaXMpLmF0dHIoJ2FjdGlvbicpO1xyXG4gICAgICAgICAgICAkLnBvc3QoXHJcbiAgICAgICAgICAgICAgbXlhamF4LnVybCxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb3JtOiBmb3JtLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICQoJ2Zvcm0nKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAkKCdmb3JtJylbaV0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWFjdGl2ZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWwtYWN0aXZlXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlbGV0ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsZXRlXCIpLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC0tc2VuZFwiKS5jbGFzc0xpc3QuYWRkKFwibW9kYWwtYWN0aXZlXCIpXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1hY3RpdmVcIikuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLWFjdGl2ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNDAwMCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgfVxyXG4gIHNlbmRGb3JtKFwiLmJsb2NrLXF1ZXN0aW9uX19mb3JtXCIpXHJcbiAgc2VuZEZvcm0oXCIubW9kYWxfX2Zvcm0tLXpheXZrYVwiKVxyXG4gIHNlbmRGb3JtKFwiLm1vZGFsX19mb3JtLS1jb250YWN0XCIpXHJcbiAgc2VuZEZvcm0oXCIud2hpdGUtZm9ybV9fZm9ybVwiKVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCIgZnVuY3Rpb24gY2hlY2tJbnB1dChpdGVtKSB7XG4gICAgbGV0IHNlbmRGb3JtID0gdHJ1ZVxuICAgIGxldCBpbnB1dEl0ZW0gPSBpdGVtWzBdO1xuXG4gICAgLy8gY29uc3QgZWxlbW5ldHMgPSBbXTtcbiAgICAvLyBmb3IgKGxldCBrOyBrPClcbiAgICBpbnB1dEl0ZW0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgICBjbGVhckluZm9JbnB1dChpbnB1dCk7XG4gICAgICAgIGNvbnN0IHZhbCA9IGlucHV0LnZhbHVlO1xuICAgICAgICBzd2l0Y2ggKGlucHV0LmdldEF0dHJpYnV0ZShcIm5hbWVcIikpIHtcbiAgICAgICAgICAgIGNhc2UgXCJuYW1lXCI6IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsLmxlbmd0aCA8IDIgfHwgdmFsLnRyaW0oKSA9PT0gXCJcIiB8fCAvXlsxLTldKyQvLnRlc3QodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICBzZW5kRm9ybSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1pc3Rha2UoaW5wdXQsIFwi0JLQstC10LTQuNGC0LUg0L/RgNCw0LLQuNC70YzQvdC+0LUg0LjQvNGPXCIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlR29vZFJlc3VsdChpbnB1dClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibWFpbFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbC50cmltKCkgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVHb29kUmVzdWx0KGlucHV0KVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL14oW0EtWmEtejAtOV9cXC1cXC5dKStcXEAoW0EtWmEtejAtOV9cXC1cXC5dKStcXC4oW0EtWmEtel17Miw0fSkkLy50ZXN0KHZhbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRGb3JtID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTWlzdGFrZShpbnB1dCwgXCLQktCy0LXQtNC40YLQtSDQv9GA0LDQstC40LvRjNC90YPRjiDRjdC70LXQutGC0YDQvtC90L3Rg9GOINC/0L7Rh9GC0YNcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2RSZXN1bHQoaW5wdXQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwicGhvbmVcIjoge1xuICAgICAgICAgICAgICAgIGlmICh2YWwubGVuZ3RoIDwgMTEgfHwgdmFsLnRyaW0oKSA9PT0gXCJcIiB8fCAvXlthLXpBLXpdKyQvLnRlc3QodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICBzZW5kRm9ybSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1pc3Rha2UoaW5wdXQsIFwi0J3QtdC60L7RgNGA0LXQutGC0L3Ri9C5INC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsFwiKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2RSZXN1bHQoaW5wdXQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImFkcmVzc1wiOiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbC5sZW5ndGggPCAxNSB8fCB2YWwudHJpbSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBzZW5kRm9ybSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1pc3Rha2UoaW5wdXQsIFwi0JLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdGL0Lkg0LDQtNGA0LXRgdGBXCIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlR29vZFJlc3VsdChpbnB1dClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyLWRvZ1wiOiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbC5sZW5ndGggPiAxNiB8fCB2YWwudHJpbSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBzZW5kRm9ybSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1pc3Rha2UoaW5wdXQsIFwi0JLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdGL0Lkg0L3QvtC80LXRgCDQtNC+0LPQvtCy0L7RgNCwXCIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlR29vZFJlc3VsdChpbnB1dClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJjaGVja2JveFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRGb3JtID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTWlzdGFrZShpbnB1dCwgXCLQndC10L7QsdGF0L7QtNC40LzQviDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHNlbmRGb3JtO1xuXG5cbiAgICBmdW5jdGlvbiBjbGVhckluZm9JbnB1dChpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYmFkRm9ybVwiKSkge1xuICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImJhZEZvcm1cIilcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ29vZEZvcm1cIikpIHtcbiAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJnb29kRm9ybVwiKVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC5jbG9zZXN0KFwiW2RhdGEtbW9kYWwtSW5wdXR3cmFwXVwiKSAmJiBpbnB1dC5jbG9zZXN0KFwiW2RhdGEtbW9kYWwtSW5wdXR3cmFwXVwiKS5xdWVyeVNlbGVjdG9yKFwiLm1pc3Rha2VcIikpIHtcbiAgICAgICAgICAgIGlucHV0LmNsb3Nlc3QoXCJbZGF0YS1tb2RhbC1JbnB1dHdyYXBdXCIpLnF1ZXJ5U2VsZWN0b3IoXCIubWlzdGFrZVwiKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICBcbiAgICBcbiAgICBmdW5jdGlvbiBjcmVhdGVNaXN0YWtlKGlucHV0LCB0ZXh0TWlzdGFrZSkge1xuICAgICAgICBjb25zdCBtaXN0YWtlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbWlzdGFrZS5jbGFzc0xpc3QuYWRkKFwibWlzdGFrZVwiKTtcbiAgICAgICAgbWlzdGFrZS50ZXh0Q29udGVudCA9IGAke3RleHRNaXN0YWtlfWBcbiAgICAgICAgLy8gaW5wdXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVCZWdpbicsIG1pc3Rha2UpO1xuICAgICAgICBpbnB1dC5jbG9zZXN0KFwiW2RhdGEtbW9kYWwtSW5wdXR3cmFwXVwiKS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyQmVnaW4nLCBtaXN0YWtlKVxuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKFwiYmFkRm9ybVwiKVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBjcmVhdGVHb29kUmVzdWx0KGlucHV0KSB7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJnb29kRm9ybVwiKVxuICAgIH1cbn1cblxuXG5cbiQoXCJpbnB1dFtuYW1lPSdwaG9uZSddXCIpLm1hc2soJys3ICg5OTkpIDk5LTk5LTk5OScsIHsgYXV0b2NsZWFyOiBmYWxzZSB9KVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZT0ncGhvbmUnXVwiKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGUgPT4ge1xuICAgICAgICBpZiAoaXRlbS52YWx1ZVs0XSA9PSA4KXtcbiAgICAgICAgICAgIGl0ZW0udmFsdWUgPSBpdGVtLnZhbHVlLnNsaWNlKDAsIDQpO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgIH0pXG59KVxuXG5cbi8vIGV4cG9ydCBkZWZhdWx0IGNoZWNrSW5wdXQ7IiwiaWYgKHdpbmRvdy5Ob2RlTGlzdCAmJiAhTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2gpIHtcclxuICAgIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzQXJnKSB7XHJcbiAgICAgICAgdGhpc0FyZyA9IHRoaXNBcmcgfHwgd2luZG93O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXNbaV0sIGksIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuKGZ1bmN0aW9uKEVMRU1FTlQpIHtcclxuICAgIEVMRU1FTlQubWF0Y2hlcyA9IEVMRU1FTlQubWF0Y2hlcyB8fCBFTEVNRU5ULm1vek1hdGNoZXNTZWxlY3RvciB8fCBFTEVNRU5ULm1zTWF0Y2hlc1NlbGVjdG9yIHx8IEVMRU1FTlQub01hdGNoZXNTZWxlY3RvciB8fCBFTEVNRU5ULndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcclxuICAgIEVMRU1FTlQuY2xvc2VzdCA9IEVMRU1FTlQuY2xvc2VzdCB8fCBmdW5jdGlvbiBjbG9zZXN0KHNlbGVjdG9yKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5tYXRjaGVzKHNlbGVjdG9yKSkgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudEVsZW1lbnQpIHtyZXR1cm4gbnVsbH1cclxuICAgICAgICBlbHNlIHJldHVybiB0aGlzLnBhcmVudEVsZW1lbnQuY2xvc2VzdChzZWxlY3RvcilcclxuICAgICAgfTtcclxufShFbGVtZW50LnByb3RvdHlwZSkpO1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYXJyID0gW3dpbmRvdy5FbGVtZW50LCB3aW5kb3cuQ2hhcmFjdGVyRGF0YSwgd2luZG93LkRvY3VtZW50VHlwZV07XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gIFxyXG4gICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICBhcmdzLnB1c2goaXRlbS5wcm90b3R5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICBcclxuICAgIC8vIGZyb206aHR0cHM6Ly9naXRodWIuY29tL2pzZXJ6L2pzX3BpZWNlL2Jsb2IvbWFzdGVyL0RPTS9DaGlsZE5vZGUvcmVtb3ZlKCkvcmVtb3ZlKCkubWRcclxuICAgIChmdW5jdGlvbiAoYXJyKSB7XHJcbiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ3JlbW92ZScpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtLCAncmVtb3ZlJywge1xyXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pKGFyZ3MpO1xyXG4gIH0pKCk7IiwiLy8g0JDQmtCa0JDQoNCU0JXQntCdXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcXVlc3Rpb25dXCIpLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBwYXJlbnRFbCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIucXVlc3Rpb25zX19pdGVtXCIpO1xuICAgICAgdmFyIGl0ZW0gPSBwYXJlbnRFbC5xdWVyeVNlbGVjdG9yKFwiLnF1ZXN0aW9uX19hbnN3ZXJcIik7XG4gICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJxdWVzdGlvbl9fYW5zd2VyLS1hY3RpdmVcIikpIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwicXVlc3Rpb25fX2Fuc3dlci0tYWN0aXZlXCIpO1xuICAgICAgICBidG4ucXVlcnlTZWxlY3RvcihcIltkYXRhLXF1ZXN0aW9uLWltZ11cIikuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICBidG4ucXVlcnlTZWxlY3RvcihcIltkYXRhLXF1ZXN0aW9uLWltZ11cIikuc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMClcIjtcbiAgICAgICAgYnRuLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1xdWVzdGlvbi10aXRsZV1cIikuY2xhc3NMaXN0LnJlbW92ZShcInF1ZXN0aW9uc19fdGl0bGUtLWFjdGl2ZVwiKTtcbiAgICAgICAgJChpdGVtKS5oaWRlKDUwMClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucXVlc3Rpb25fX2Fuc3dlci0tYWN0aXZlXCIpLmZvckVhY2goZnVuY3Rpb24gKGFjdGl2ZUl0ZW0pIHtcbiAgICAgICAgICAvLyBidG4ucXVlcnlTZWxlY3RvcihcIltkYXRhLXF1ZXN0aW9uLWltZ11cIikuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICAgIC8vIGJ0bi5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcXVlc3Rpb24taW1nXVwiKS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgwKVwiO1xuICAgICAgICAgIGNvbnN0IHBhcmVudFdyYXAgPSBhY3RpdmVJdGVtLmNsb3Nlc3QoXCIucXVlc3Rpb25zX19pdGVtXCIpLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1xdWVzdGlvbi1pbWddXCIpXG4gICAgICAgICAgY29uc29sZS5sb2cocGFyZW50V3JhcClcbiAgICAgICAgICBwYXJlbnRXcmFwLnN0eWxlLm9wYWNpdHkgPSBcIjFcIlxuICAgICAgICAgIHBhcmVudFdyYXAuc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMClcIjtcbiAgICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVJdGVtKVxuICAgICAgICAgIGFjdGl2ZUl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcInF1ZXN0aW9uX19hbnN3ZXItLWFjdGl2ZVwiKTtcbiAgICAgICAgICAkKGFjdGl2ZUl0ZW0pLmhpZGUoNTAwKVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwicXVlc3Rpb25fX2Fuc3dlci0tYWN0aXZlXCIpO1xuICAgICAgICAkKGl0ZW0pLnNob3coNTAwKVxuICAgICAgICBidG4ucXVlcnlTZWxlY3RvcihcIltkYXRhLXF1ZXN0aW9uLWltZ11cIikuc3R5bGUub3BhY2l0eSA9IFwiMC42XCI7XG4gICAgICAgIGJ0bi5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcXVlc3Rpb24taW1nXVwiKS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgxODBkZWcpXCI7XG4gICAgICAgIGJ0bi5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcXVlc3Rpb24tdGl0bGVdXCIpLmNsYXNzTGlzdC5hZGQoXCJxdWVzdGlvbnNfX3RpdGxlLS1hY3RpdmVcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG5cbi8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1xdWVzdGlvbl1cIikuZm9yRWFjaChpdGVtID0+IHtcbi8vICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuLy8gICAgIGNvbnN0IHBhcmVudCA9IGl0ZW0ucGFyZW50RWxlbWVudFxuLy8gICAgIGNvbnN0IHNtYWxsRWwgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihcIi5xdWVzdGlvbl9fYW5zd2VyXCIpXG4vLyAgICAgaWYgKHNtYWxsRWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwicXVlc3Rpb25fX2Fuc3dlci0tYWN0aXZlXCIpKSB7XG4vLyAgICAgICAkKHNtYWxsRWwpLmhpZGUoNTAwKVxuLy8gICAgICAgICBzbWFsbEVsLmNsYXNzTGlzdC5yZW1vdmUoXCJxdWVzdGlvbl9fYW5zd2VyLS1hY3RpdmVcIilcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgJChzbWFsbEVsKS5zaG93KDUwMClcbi8vICAgICAgIHNtYWxsRWwuY2xhc3NMaXN0LmFkZChcInF1ZXN0aW9uX19hbnN3ZXItLWFjdGl2ZVwiKVxuLy8gICAgIH1cbi8vICAgfSlcblxuLy8gfSkiLCJcclxuICAgIC8vIHdwLWNhcHRpb25cclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLndwLWNhcHRpb25cIikuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBpZiAoaXRlbS5xdWVyeVNlbGVjdG9yKFwiLndwLWNhcHRpb24tdGV4dFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXIgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIud3AtY2FwdGlvbi10ZXh0XCIpXHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBwYXIudGV4dENvbnRlbnQubGVuZ3RoXHJcblxyXG4gICAgICAgICAgICBpZiAodGV4dCA8IDE1KSB7XHJcbiAgICAgICAgICAgICAgICBwYXIuc3R5bGUubWF4V2lkdGggPSBcIjIwJVwiXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZih0ZXh0ID49IDE1ICYmIHRleHQgPD0gMzApIHtcclxuICAgICAgICAgICAgICAgIHBhci5zdHlsZS5tYXhXaWR0aCA9IFwiMjclXCJcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHRleHQgPj0gMzEgJiYgdGV4dCA8PSA1MCkge1xyXG4gICAgICAgICAgICAgICAgcGFyLnN0eWxlLm1heFdpZHRoID0gXCI1MCVcIlxyXG4gICAgICAgICAgICB9ZWxzZSBpZih0ZXh0ID49IDUxICYmIHRleHQgPD0gODApIHtcclxuICAgICAgICAgICAgICAgIHBhci5zdHlsZS5tYXhXaWR0aCA9IFwiNzAlXCJcclxuICAgICAgICAgICAgfWVsc2UgaWYodGV4dCA+PSA4MSkge1xyXG4gICAgICAgICAgICAgICAgcGFyLnN0eWxlLm1heFdpZHRoID0gXCIxMDAlXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIud3AtY2FwdGlvbi10ZXh0XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJ3cC1jYXB0aW9uLXRleHRfX3dyYXBwZXJcIilcclxuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmQocGFyKVxyXG4gICAgICAgICAgICBpdGVtLmFwcGVuZCh3cmFwcGVyKVxyXG4gICAgICAgIH1cclxuICAgIH0pIiwiLy8gLy8gZnVuY3Rpb24gYW5pbWF0ZShzZWxlY3RvciwgbmFtZUNsYXNzLCApIHtcblxuLy8gLy8gfVxuXG5cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImhlYWRlciAuaGVhZGVyLWRvd25fX3dyYXBwZXJcIikuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlci1kb3duX193cmFwcGVyXCIpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJoZWFkZXItZG93bi1hY3Rpb3ZlLW1vYmlsZVwiKVxuICAgICAgICAgICAgLy8gICAgIGVsZW0ucXVlcnlTZWxlY3RvcihcInVsXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJoZWFkZXItZG93bl9fbGlzdC1ibG9ja1wiKVxuICAgICAgICB9KVxuICAgICAgICBpZiAod2luZG93Lm91dGVyV2lkdGggPD0gOTc2KSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwidWxcIik7XG4gICAgICAgICAgICBpZiAoIWxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGVhZGVyLWRvd25fX2xpc3QtbW9iaWxlXCIpKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyLWRvd25fX2xpc3QtbW9iaWxlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGVhZGVyLWRvd25fX2xpc3QtYmxvY2tcIikpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiAobGlzdCAhPT0gbnVsbCAmJiBsaXN0LmNsYXNzTGlzdC5jb250YWlucyhcImhlYWRlci1kb3duX19saXN0LWJsb2NrXCIpKSB7XG4gICAgICAgICAgICAgICAgLy8gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1kb3duX19saXN0LXdyYXBwZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyLWRvd25fX2xpc3QtZmFkZUluXCIpO1xuICAgICAgICAgICAgICAgIGxpc3QuY2xhc3NMaXN0LmFkZChcImhlYWRlci1kb3duX19saXN0LWZhZGVPdXRcIik7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlci1kb3duX19saXN0LWJsb2NrXCIpO1xuICAgICAgICAgICAgICAgIH0sIDMwMClcbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJoZWFkZXItZG93bl9fbGlzdC1ibG9ja1wiKSkge1xuICAgICAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcihcImFcIikuY2xhc3NMaXN0LmFkZChcImhlYWRlci1kb3duLWFjdGlvdmUtbW9iaWxlXCIpXG4gICAgICAgICAgICAgICAgLy8gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1kb3duX19saXN0LXdyYXBwZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItZG93bl9fbGlzdC1ibG9ja1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1kb3duX19saXN0LWJsb2NrXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJoZWFkZXItZG93bl9fbGlzdC1ibG9ja1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyLWRvd25fX2xpc3QtYmxvY2tcIik7XG4gICAgICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyLWRvd25fX2xpc3QtZmFkZU91dFwiKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyLWRvd25fX2xpc3QtZmFkZUluXCIpO1xuICAgICAgICAgICAgICAgIH0sIDIwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9KVxuXG59KVxuXG5cblxuXG5cblxuXG4iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC5jdXJyZW50LWl0ZW1cIikpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2guY3VycmVudC1pdGVtXCIpLnRleHRDb250ZW50ID0gXCLQn9C+0LjRgdC6XCJcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNJbnRlcm5ldEV4cGxvcmVyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignTVNJRSAnKSA+IC0xIHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1RyaWRlbnQvJykgPiAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc0ludGVybmV0RXhwbG9yZXIoKSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN2Zy1tYWluXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcbn0pIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGNoZWNrZWQoc2VsZWN0b3JDaGVjaywgYWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgY29uc3QgY2hlY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7c2VsZWN0b3JDaGVja31dYCk7XG4gICAgICAgIGNoZWNrcy5mb3JFYWNoKGNoZWNrID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjaGVjay5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgIGlmIChjaGVjay5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGFjdGl2ZUNsYXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGNoZWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5jbGFzc0xpc3QuY29udGFpbnMoYWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgXG4gICAgY2hlY2tlZChcImRhdGEtY2hlY2tSYXRlXCIsIFwicmF0ZV9fY29udGVudC1pdGVtcy0tYWN0aXZlXCIpO1xufSkiLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCgpID0+IHtcclxuICAgIGxldCBlbGVtZW50cyA9IFtdO1xyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJhdGVfX2NvbnRlbnQtY2FyZC1hZGRcIikuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgYWRkRWxlbWVudChidG4pO1xyXG5cclxuICAgIH0pXHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5sZXQgZnVsbEluZm9CbGFnbyA9IFtdXHJcbmxldCBzZWxlY3RlZEJsYWdvID0gW11cclxubGV0IGZ1bGxJbmZvUHJpdmF0ZSA9IFtdXHJcbmxldCBzZWxlY3RlZFByaXZhdGUgPSBbXVxyXG5sZXQgZnVsbEluZm9MZWdhbCA9IFtdXHJcbmxldCBzZWxlY3RlZExlZ2FsID0gW11cclxuXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLXNlbGVjdGVkXVwiKSkge1xyXG4gICAgYWRkRWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtc2VsZWN0ZWRdXCIpKVxyXG59XHJcblxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWNoZWNrcmF0ZV1cIikuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCgpID0+IHtcclxuICAgICAgICBpZiAoaXRlbS5jaGVja2VkKSB7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdF9fcmlnaHQtbGlzdCAucmVzdWx0X19yaWdodC1pdGVtLS1ub3dcIikpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdWx0X19yaWdodC1saXN0IC5yZXN1bHRfX3JpZ2h0LWl0ZW0tLW5vd1wiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsZXQgbmFtZUNhdGVnb3J5Q2FyZE1vbWVudDtcclxuICAgICAgICAgICAgY29uc3QgbmFtZUNhdGVnb3J5Q2FyZCA9IGl0ZW0uY2xvc2VzdChcIi5yYXRlX19jb250ZW50XCIpLmdldEF0dHJpYnV0ZShcImRhdGEtbWFpbmNvbnRlbnRcIilcclxuICAgICAgICAgICAgbGV0IG5hbWVDYXRlZ29yeUNhcmRNb21lbnRcclxuICAgICAgICAgICAgc3dpdGNoICgrbmFtZUNhdGVnb3J5Q2FyZCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZUNhdGVnb3J5Q2FyZE1vbWVudCA9IFwi0JTQu9GPINC60LLQsNGA0YLQuNGAXCJcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSAxOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZUNhdGVnb3J5Q2FyZE1vbWVudCA9IFwi0JTQu9GPINGH0LDRgdGC0L3Ri9GFINC00L7QvNC+0LJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6IHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lQ2F0ZWdvcnlDYXJkTW9tZW50ID0gXCLQlNC70Y8g0LHQuNC30L3QtdGB0LAg0Lgg0L7RgNCz0LDQvdC40LfQsNGG0LjQuVwiXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjaGVja2VkV3JhcCA9IGl0ZW0uY2xvc2VzdChcIi5yYXRlX19jb250ZW50LXdyYXBwZXJcIikucXVlcnlTZWxlY3RvckFsbChcIi5yYXRlX19jb250ZW50LWNhcmQtLWNvbnN0cnVjdG9yXCIpXHJcbiAgICAgICAgICAgIGNoZWNrZWRXcmFwLmZvckVhY2goY2FyZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lQ2FyZCA9IGNhcmQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jYXJkLWNvbnN0cnVjdG9yLW5hbWVcIilcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlQ2FyZCA9IGNhcmQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jYXJkLWNvbnN0cnVjdG9yLXByaWNlXCIpXHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZUNhdGVnb3J5Q2FyZE1vbWVudCA9PSBcItCU0LvRjyDQutCy0LDRgNGC0LjRgFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFyckNoZWNrID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdpdGhvdXRFbCA9IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbEluZm9CbGFnby5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFswXSAhPT0gbmFtZUNhcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyckNoZWNrLnB1c2goZWxlbWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRCbGFnby5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gbmFtZUNhcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC8vY29uc29sKGl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRob3V0RWwucHVzaChpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEJsYWdvID0gd2l0aG91dEVsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbEluZm9CbGFnbyA9IGFyckNoZWNrXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVDYXRlZ29yeUNhcmRNb21lbnQgPT0gXCLQlNC70Y8g0YfQsNGB0YLQvdGL0YUg0LTQvtC80L7QslwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFyckNoZWNrID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdpdGhvdXRFbCA9IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbEluZm9Qcml2YXRlLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50WzBdICE9PSBuYW1lQ2FyZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyQ2hlY2sucHVzaChlbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFByaXZhdGUuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09IG5hbWVDYXJkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAvL2NvbnNvbChpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aG91dEVsLnB1c2goaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2woYXJyQ2hlY2spXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcml2YXRlID0gd2l0aG91dEVsXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2woc2VsZWN0ZWRQcml2YXRlKVxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvUHJpdmF0ZSA9IGFyckNoZWNrXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2woZnVsbEluZm9Qcml2YXRlKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lQ2F0ZWdvcnlDYXJkTW9tZW50ID09IFwi0JTQu9GPINCx0LjQt9C90LXRgdCwINC4INC+0YDQs9Cw0L3QuNC30LDRhtC40LlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhcnJDaGVjayA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3aXRob3V0RWwgPSBbXVxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvTGVnYWwuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRbMF0gIT09IG5hbWVDYXJkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJDaGVjay5wdXNoKGVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGVnYWwuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09IG5hbWVDYXJkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAvL2NvbnNvbChpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aG91dEVsLnB1c2goaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMZWdhbCA9IHdpdGhvdXRFbFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvTGVnYWwgPSBhcnJDaGVja1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoZXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudFNlbCA9IGl0ZW0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChidG4sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGV0Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidG4uY2xvc2VzdChgLiR7cGFyZW50U2VsfWApLnF1ZXJ5U2VsZWN0b3IoXCJbdHlwZT0nY2hlY2tib3gnXVwiKSA9PT0gaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hldCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRlX19jb250ZW50LXBsdXNcIikuZm9yRWFjaChwbHVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJhdGVfX2NvbnRlbnQtZ2Fsa2FcIikuZm9yRWFjaChnYWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJhdGVfX2NvbnRlbnQtY2FyZC1hZGRcIikuZm9yRWFjaCh3cmFwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwLmNsYXNzTGlzdC5hZGQoXCJyYXRlX19jb250ZW50LWNhcmQtYWRkLS1hY3RpdmVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJhdGVfX2NvbnRlbnQtY2FyZC0tY29uc3RydWN0b3Itbm8tYWN0aXZlXCIpLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoXCJyYXRlX19jb250ZW50LWNhcmQtLWNvbnN0cnVjdG9yLW5vLWFjdGl2ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJidXR0b25cIikuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGV0Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgbGV0IGFyciA9IGVsZW1lbnRzLmZpbHRlcihlbCA9PmVsLmNsb3Nlc3QoYC4ke3BhcmVudFNlbH1gKS5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9J2NoZWNrYm94J11cIikgIT09IGl0ZW0pXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cyA9IGFycjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlTm93ID0gW107XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGxldCBjYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmQgPSBpdGVtLmNsb3Nlc3QoXCJbZGF0YS1jYXJkLWNvbnN0cnVjdG9yXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FyZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNhcmQtY29uc3RydWN0b3ItcHJpY2VcIikubGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNhcmQtY29uc3RydWN0b3ItcHJpY2VcIiwgMClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wcmljZVwiKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnNldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wcmljZVwiLCBcIm1vbnRoXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudENhcmROYW1lID0gY2FyZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNhcmQtY29uc3RydWN0b3ItbmFtZVwiKVxyXG4gICAgICAgIGxldCBjYXJkUHJpY2UgPSBjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wcmljZVwiKTtcclxuICAgICAgICBsZXQgY2FyZFBheSA9ICBjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wYXlcIik7XHJcbiAgICAgICAgLy9jb25zb2woZnVsbEluZm9CbGFnbylcclxuICAgICAgICAvL2NvbnNvbChmdWxsSW5mb1ByaXZhdGUpXHJcbiAgICAgICAgLy9jb25zb2woZnVsbEluZm9MZWdhbClcclxuICAgICAgICBmdW5jdGlvbiBhZGRQcmljZSh0eXBlQ2FyZCwgZnVsbEluZm8gLCBzZWxlY3RlZEl0ZW1zLHByaWNlLCBuYW1lQ2FyZCwgY2FyZCwgY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBjYXJkLmNsb3Nlc3QoXCIucmF0ZV9fY29udGVudFwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1haW5jb250ZW50XCIpXHJcbiAgICAgICAgICAgIGxldCBuYW1lQ2F0ZWdvcnlcclxuICAgICAgICAgICAgaWYgKGlkID09IDApIHtcclxuICAgICAgICAgICAgICAgIG5hbWVDYXRlZ29yeSA9IFwi0JTQu9GPINC60LLQsNGA0YLQuNGAXCJcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lQ2F0ZWdvcnkgPSBcItCU0LvRjyDRh9Cw0YHRgtC90YvRhSDQtNC+0LzQvtCyXCJcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lQ2F0ZWdvcnkgPSBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZUNhcmQgPT09IFwibW9udGhcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbXMuaW5kZXhPZihuYW1lQ2FyZCkgPT0gLTEgJiYgbmFtZUNhdGVnb3J5ID09IGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLy9jb25zb2wobmFtZUNhcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcy5wdXNoKG5hbWVDYXJkKVxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvLnB1c2goW25hbWVDYXJkLCBwcmljZSwgdHlwZUNhcmRdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlQ2FyZCA9PT0gXCJub3dcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdFByb2QuaW5kZXhPZihuYW1lQ2FyZCkgPT0gLTEgJiYgbmFtZUNhdGVnb3J5ID09IGNhdGVnb3J5KSB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvLnB1c2goW25hbWVDYXJkLCBwcmljZSwgdHlwZUNhcmRdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5hbWVBY3RpdmVDYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmF0ZV9fY2F0YWxvZy1saW5rLS1hY3RpdmVcIikudGV4dENvbnRlbnRcclxuICAgICAgICBpZiAobmFtZUFjdGl2ZUNhdGVnb3J5ID09IFwi0JTQu9GPINC60LLQsNGA0YLQuNGAXCIgJiYgbmFtZUFjdGl2ZUNhdGVnb3J5ID09IG5hbWVDYXRlZ29yeUNhcmRNb21lbnQgJiYgIWl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwicmF0ZV9fY29udGVudC1jYXJkLWFkZC0tYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBhZGRQcmljZShjYXJkUGF5LCBmdWxsSW5mb0JsYWdvLCBzZWxlY3RlZEJsYWdvLCBjYXJkUHJpY2UsIHBhcmVudENhcmROYW1lLCBjYXJkLCBcItCU0LvRjyDQutCy0LDRgNGC0LjRgFwiKVxyXG4gICAgICAgIH0gZWxzZSBpZiAobmFtZUFjdGl2ZUNhdGVnb3J5ID09IFwi0JTQu9GPINGH0LDRgdGC0L3Ri9GFINC00L7QvNC+0LJcIiAmJiBuYW1lQWN0aXZlQ2F0ZWdvcnkgPT0gbmFtZUNhdGVnb3J5Q2FyZE1vbWVudCAmJiAhaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJyYXRlX19jb250ZW50LWNhcmQtYWRkLS1hY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgYWRkUHJpY2UoY2FyZFBheSwgZnVsbEluZm9Qcml2YXRlLCBzZWxlY3RlZFByaXZhdGUgLGNhcmRQcmljZSwgcGFyZW50Q2FyZE5hbWUsIGNhcmQsIFwi0JTQu9GPINGH0LDRgdGC0L3Ri9GFINC00L7QvNC+0LJcIilcclxuICAgICAgICB9IGVsc2UgaWYgKG5hbWVBY3RpdmVDYXRlZ29yeSA9PSBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCIgJiYgbmFtZUFjdGl2ZUNhdGVnb3J5ID09IG5hbWVDYXRlZ29yeUNhcmRNb21lbnQgJiYgIWl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwicmF0ZV9fY29udGVudC1jYXJkLWFkZC0tYWN0aXZlXCIpICkge1xyXG4gICAgICAgICAgICBhZGRQcmljZShjYXJkUGF5LCBmdWxsSW5mb0xlZ2FsLCBzZWxlY3RlZExlZ2FsICxjYXJkUHJpY2UsIHBhcmVudENhcmROYW1lLCBjYXJkLCBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIC8vICBwcmljZS5mb3JFYWNoKHByaWNlQ2FyZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgIGNvdW50ICs9ICtwcmljZUNhcmQ7XHJcbiAgICAgICAgICAgICAgICAvLyAgfSlcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lQ2F0ZWdvcnlDYXJkTW9tZW50ID09IFwi0JTQu9GPINC60LLQsNGA0YLQuNGAXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdWxsSW5mb0JsYWdvLmZvckVhY2gocHJpY2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCArPSArcHJpY2VbMV1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lQ2F0ZWdvcnlDYXJkTW9tZW50ID09IFwi0JTQu9GPINGH0LDRgdGC0L3Ri9GFINC00L7QvNC+0LJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvUHJpdmF0ZS5mb3JFYWNoKHByaWNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gK3ByaWNlWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuYW1lQ2F0ZWdvcnlDYXJkTW9tZW50ID09IFwi0JTQu9GPINCx0LjQt9C90LXRgdCwINC4INC+0YDQs9Cw0L3QuNC30LDRhtC40LlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvTGVnYWwuZm9yRWFjaChwcmljZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ICs9ICtwcmljZVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRfX3JpZ2h0LWl0ZW0tcHJpY2UtLW1vbnRoXCIpLnRleHRDb250ZW50ID0gYCR7Y291bnR9IOKCvWA7XHJcbiAgICAgICAgICAgICAgICAvLyAgbGV0IHByaWNlTmV3Q291bnQgPSBcclxuICAgICAgICAgICAgICAgIC8vICBpZiAocHJpY2VOb3cubGVuZ3RoID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWJBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhdGVfX2NhdGFsb2ctbGluay0tYWN0aXZlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50Tm93ID0gMFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWJBY3RpdmUudGV4dENvbnRlbnQgPT0gXCLQlNC70Y8g0LrQstCw0YDRgtC40YBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdWxsSW5mb0JsYWdvLmZvckVhY2goaXRlbU5vdyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVsyXSA9PSBcIm5vd1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnROb3cgKz0gK2l0ZW1Ob3c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVyUHJpY2VOb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXJQcmljZU5vdy5jbGFzc0xpc3QuYWRkKFwicmVzdWx0X19yaWdodC1pdGVtXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAvLyB3cmFwcGVyUHJpY2VOb3cuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgICAgICAvLyAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX3JpZ2h0LWl0ZW0tbmFtZVwiPtCV0LTQuNC90L7RgNCw0LfQvtCy0LDRjyDQvtC/0LvQsNGC0LA6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAvLyAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX3JpZ2h0LWl0ZW0tcHJpY2VcIj4ke2NvdW50Tm93fSDigr08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgIC8vIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgIGxldCBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAzNzUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCLQntC00L3QvtGA0LDQt9C+0LLQsNGPINC+0L/Qu9Cw0YLQsDpcIlxyXG4gICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCLQldC00LjQvdC+0YDQsNC30L7QstCw0Y8g0L7Qv9C70LDRgtCwOlwiXHJcbiAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRfX3JpZ2h0LWl0ZW0tLW1vbnRoXCIpLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZUJlZ2luXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgIGBcclxuICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSdyZXN1bHRfX3JpZ2h0LWl0ZW0gcmVzdWx0X19yaWdodC1pdGVtLS1ub3cnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX3JpZ2h0LWl0ZW0tbmFtZVwiPiR7c3RyfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19yaWdodC1pdGVtLXByaWNlXCI+JHtjb3VudE5vd30g4oK9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgIGApXHJcbiAgICAgICAgICAgICAgICAgICAgIC8vIGJlZm9yZUJlZ2luXHJcbiAgICAgICAgICAgICAgICAvLyAgfVxyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgbGV0IGFyclZpZXcgPSBbXVxyXG4gICAgICAgICAgICAgICAgIGlmICh0YWJBY3RpdmUudGV4dENvbnRlbnQgPT0gXCLQlNC70Y8g0LrQstCw0YDRgtC40YBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvQmxhZ28uZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbFZpZXcgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtLW5hbWVcIj4ke2VsWzBdfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW0tcHJpY2VcIj4ke2VsWzFdfSDigr08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGFyclZpZXcucHVzaChlbFZpZXcpXHJcbiAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJBY3RpdmUudGV4dENvbnRlbnQgPT0gXCLQlNC70Y8g0YfQsNGB0YLQvdGL0YUg0LTQvtC80L7QslwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvUHJpdmF0ZS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsVmlldyA9IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW0tbmFtZVwiPiR7ZWxbMF19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX2xlZnQtaXRlbS1wcmljZVwiPiR7ZWxbMV19IOKCvTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYXJyVmlldy5wdXNoKGVsVmlldylcclxuICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYkFjdGl2ZS50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgZnVsbEluZm9MZWdhbC5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsVmlldyA9IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW0tbmFtZVwiPiR7ZWxbMF19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX2xlZnQtaXRlbS1wcmljZVwiPiR7ZWxbMV19IOKCvTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYXJyVmlldy5wdXNoKGVsVmlldylcclxuICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdWx0X19sZWZ0LWxpc3RcIik7XHJcbiAgICAgICAgICAgICAgICAgcGFyZW50LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgYXJyVmlldy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5uZXJIVE1MICs9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBcclxuXHJcbiAgICB9KVxyXG59KVxyXG5cclxuZnVuY3Rpb24gYWRkRWxlbWVudChidG4pIHtcclxuICAgIGNvbnN0IHByaWNlID0gW107XHJcbiAgICBjb25zdCBwcmljZU5vdyA9IFtdO1xyXG4gICAgY29uc3QgcGFyZW50QnRuID0gYnRuLmNsb3Nlc3QoXCIucmF0ZV9fY29udGVudC1jYXJkLS1jb25zdHJ1Y3RvclwiKVxyXG4gICAgaWYgKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwicmF0ZV9fY29udGVudC1jYXJkLWFkZFwiKSkge1xyXG4gICAgICAgIGJ0biA9IGJ0bi5xdWVyeVNlbGVjdG9yKFwiLnJhdGVfX2NvbnRlbnQtY2FyZC1hZGRcIilcclxuICAgIH1cclxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdF9fcmlnaHQtbGlzdCAucmVzdWx0X19yaWdodC1pdGVtLS1ub3dcIikpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdF9fcmlnaHQtbGlzdCAucmVzdWx0X19yaWdodC1pdGVtLS1ub3dcIikucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwicmF0ZV9fY29udGVudC1jYXJkLWFkZC0tYWN0aXZlXCIpKSB7XHJcbiAgICAgICBpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucyhcInJhdGVfX2NvbnRlbnQtY2FyZC1hZGRcIikpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnRXcmFwID0gYnRuLmNsb3Nlc3QoXCIucmF0ZV9fY29udGVudC1pdGVtcy5yYXRlX19jb250ZW50LWl0ZW1zLS1jb25zdHJ1Y3RvciBcIilcclxuICAgICAgICBjb25zdCBhbGxDYXJkSW5XcmFwID0gcGFyZW50V3JhcC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJhdGVfX2NvbnRlbnQtY2FyZC5yYXRlX19jb250ZW50LWNhcmQtLWNvbnN0cnVjdG9yXCIpXHJcbiAgICAgICAgY29uc3QgbmFtZVRhcmlmID0gcGFyZW50V3JhcC5jbG9zZXN0KFwiLnJhdGVfX2NvbnRlbnQtd3JhcHBlclwiKS5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrYm94X190ZXh0XCIpLnRleHRDb250ZW50XHJcbiAgICAgICAgaWYgKG5hbWVUYXJpZiAhPT0gXCLQotC10LzQsNGC0LjRh9C10YHQutC+0LUg0YLQtdC70LXQstC40LTQtdC90YzQtVwiKSB7XHJcbiAgICAgICAgICAgIGFsbENhcmRJbldyYXAuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSBwYXJlbnRCdG4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJyYXRlX19jb250ZW50LWNhcmQtLWNvbnN0cnVjdG9yLW5vLWFjdGl2ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBidG4ucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jb250ZW50LXBsdXNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICAgICAgYnRuLnF1ZXJ5U2VsZWN0b3IoXCIucmF0ZV9fY29udGVudC1nYWxrYVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXHJcbiAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudHMucHVzaChidG4pO1xyXG4gICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwicmF0ZV9fY29udGVudC1jYXJkLWFkZC0tYWN0aXZlXCIpXHJcblxyXG4gICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwicmF0ZV9fY29udGVudC1jYXJkLWFkZFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRXcmFwID0gYnRuLmNsb3Nlc3QoXCIucmF0ZV9fY29udGVudC1pdGVtcy5yYXRlX19jb250ZW50LWl0ZW1zLS1jb25zdHJ1Y3RvciBcIilcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFsbENhcmRJbldyYXAgPSBwYXJlbnRXcmFwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZV9fY29udGVudC1jYXJkLnJhdGVfX2NvbnRlbnQtY2FyZC0tY29uc3RydWN0b3JcIilcclxuICAgICAgICAgICAgY29uc3QgbmFtZVRhcmlmID0gcGFyZW50V3JhcC5jbG9zZXN0KFwiLnJhdGVfX2NvbnRlbnQtd3JhcHBlclwiKS5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrYm94X190ZXh0XCIpLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgIGlmIChuYW1lVGFyaWYgIT09IFwi0KLQtdC80LDRgtC40YfQtdGB0LrQvtC1INGC0LXQu9C10LLQuNC00LXQvdGM0LVcIikge1xyXG4gICAgICAgICAgICAgICAgYWxsQ2FyZEluV3JhcC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSBwYXJlbnRCdG4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwicmF0ZV9fY29udGVudC1jYXJkLS1jb25zdHJ1Y3Rvci1uby1hY3RpdmVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBidG4ucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jb250ZW50LXBsdXNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG4gICAgICAgICAgICBidG4ucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jb250ZW50LWdhbGthXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSBidG4pXHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJyYXRlX19jb250ZW50LWNhcmQtYWRkLS1hY3RpdmVcIilcclxuICAgfVxyXG5cclxuICAgY29uc3QgYWN0aXZlQ2F0ZWdvcnlPbmUgPSBidG4uY2xvc2VzdChcIi5yYXRlX19jb250ZW50IFwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1haW5jb250ZW50XCIpXHJcbiAgICAgICAgbGV0IGFjdGl2ZUNhdGVnb3J5T25lTmFtZVxyXG4gICAgICAgIHN3aXRjaCAoK2FjdGl2ZUNhdGVnb3J5T25lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDoge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2F0ZWdvcnlPbmVOYW1lID0gXCLQlNC70Y8g0LrQstCw0YDRgtC40YBcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIDE6IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUNhdGVnb3J5T25lTmFtZSA9IFwi0JTQu9GPINGH0LDRgdGC0L3Ri9GFINC00L7QvNC+0LJcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIDI6IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUNhdGVnb3J5T25lTmFtZSA9IFwi0JTQu9GPINCx0LjQt9C90LXRgdCwINC4INC+0YDQs9Cw0L3QuNC30LDRhtC40LlcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmFtZUNhcmRNb21lbnQgPSBidG4uY2xvc2VzdChcIi5yYXRlX19jb250ZW50LWNhcmRcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1jYXJkLWNvbnN0cnVjdG9yLW5hbWVcIilcclxuICAgICAgICBjb25zdCBwcmljZUNhcmRNb21lbnQgPSBidG4uY2xvc2VzdChcIi5yYXRlX19jb250ZW50LWNhcmRcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1jYXJkLWNvbnN0cnVjdG9yLXByaWNlXCIpXHJcbiAgICAgICAgaWYgKGFjdGl2ZUNhdGVnb3J5T25lTmFtZSA9PSBcItCU0LvRjyDQutCy0LDRgNGC0LjRgFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBhcnJDaGVjayA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgd2l0aG91dEVsID0gW11cclxuICAgICAgICAgICAgZnVsbEluZm9CbGFnby5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1bMF0gIT09IG5hbWVDYXJkTW9tZW50ICYmIGl0ZW1bMV0gIT09IHByaWNlQ2FyZE1vbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyckNoZWNrLnB1c2goaXRlbSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHNlbGVjdGVkQmxhZ28uZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSBuYW1lQ2FyZE1vbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIC8vY29uc29sKGl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgd2l0aG91dEVsLnB1c2goaXRlbSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGZ1bGxJbmZvQmxhZ28gPSBhcnJDaGVja1xyXG4gICAgICAgICAgICBzZWxlY3RlZEJsYWdvID0gd2l0aG91dEVsXHJcbiAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVDYXRlZ29yeU9uZU5hbWUgPT0gXCLQlNC70Y8g0YfQsNGB0YLQvdGL0YUg0LTQvtC80L7QslwiKSB7XHJcbiAgICAgICAgICAgIGxldCBhcnJDaGVjayA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgd2l0aG91dEVsID0gW11cclxuICAgICAgICAgICAgZnVsbEluZm9Qcml2YXRlLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbVswXSAhPT0gbmFtZUNhcmRNb21lbnQgJiYgaXRlbVsxXSAhPT0gcHJpY2VDYXJkTW9tZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyQ2hlY2sucHVzaChpdGVtKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgc2VsZWN0ZWRQcml2YXRlLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gbmFtZUNhcmRNb21lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAvL2NvbnNvbChpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIHdpdGhvdXRFbC5wdXNoKGl0ZW0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBmdWxsSW5mb1ByaXZhdGUgPSBhcnJDaGVja1xyXG4gICAgICAgICAgICBzZWxlY3RlZFByaXZhdGUgPSB3aXRob3V0RWxcclxuXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQ2F0ZWdvcnlPbmVOYW1lID09IFwi0JTQu9GPINCx0LjQt9C90LXRgdCwINC4INC+0YDQs9Cw0L3QuNC30LDRhtC40LlcIikge1xyXG4gICAgICAgICAgICBsZXQgYXJyQ2hlY2sgPSBbXTtcclxuICAgICAgICAgICAgbGV0IHdpdGhvdXRFbCA9IFtdXHJcbiAgICAgICAgICAgIGZ1bGxJbmZvTGVnYWwuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtWzBdICE9PSBuYW1lQ2FyZE1vbWVudCAmJiBpdGVtWzFdICE9PSBwcmljZUNhcmRNb21lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJDaGVjay5wdXNoKGl0ZW0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBzZWxlY3RlZExlZ2FsLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gbmFtZUNhcmRNb21lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAvL2NvbnNvbChpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIHdpdGhvdXRFbC5wdXNoKGl0ZW0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBmdWxsSW5mb0xlZ2FsID0gYXJyQ2hlY2tcclxuICAgICAgICAgICAgc2VsZWN0ZWRMZWdhbCA9IHdpdGhvdXRFbFxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICBsZXQgY2FyZDtcclxuICAgaWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJyYXRlX19jb250ZW50LWNhcmQtYWRkXCIpKSB7XHJcbiAgICBjYXJkID0gYnRuLmNsb3Nlc3QoXCJbZGF0YS1jYXJkLWNvbnN0cnVjdG9yXVwiKTtcclxuICAgfSBlbHNlIHtcclxuICAgICAgIGNhcmQgPSBidG47XHJcbiAgIH1cclxuICAgY29uc3QgY2FyZFBheSA9ICBjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wYXlcIik7XHJcblxyXG4gICAgZWxlbWVudHMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBsZXQgY2FyZFxyXG4gICAgICAgIGNvbnN0IG5hbWVDYXRlZ29yeUNhcmQgPSBpdGVtLmNsb3Nlc3QoXCIucmF0ZV9fY29udGVudFwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1haW5jb250ZW50XCIpXHJcbiAgICAgICAgbGV0IG5hbWVDYXRlZ29yeUNhcmRNb21lbnRcclxuICAgICAgICBzd2l0Y2ggKCtuYW1lQ2F0ZWdvcnlDYXJkKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDoge1xyXG4gICAgICAgICAgICAgICAgbmFtZUNhdGVnb3J5Q2FyZE1vbWVudCA9IFwi0JTQu9GPINC60LLQsNGA0YLQuNGAXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAxOiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lQ2F0ZWdvcnlDYXJkTW9tZW50ID0gXCLQlNC70Y8g0YfQsNGB0YLQvdGL0YUg0LTQvtC80L7QslwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgMjoge1xyXG4gICAgICAgICAgICAgICAgbmFtZUNhdGVnb3J5Q2FyZE1vbWVudCA9IFwi0JTQu9GPINCx0LjQt9C90LXRgdCwINC4INC+0YDQs9Cw0L3QuNC30LDRhtC40LlcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcInJhdGVfX2NvbnRlbnQtY2FyZC1hZGRcIikpIHtcclxuICAgICAgICAgICAgY2FyZCA9IGl0ZW0uY2xvc2VzdChcIltkYXRhLWNhcmQtY29uc3RydWN0b3JdXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNhcmQgPSBpdGVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2FyZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNhcmQtY29uc3RydWN0b3ItcHJpY2VcIikubGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgY2FyZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNhcmQtY29uc3RydWN0b3ItcHJpY2VcIiwgMClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wcmljZVwiKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjYXJkLnNldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wcmljZVwiLCBcIm1vbnRoXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcmVudENhcmROYW1lID0gY2FyZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNhcmQtY29uc3RydWN0b3ItbmFtZVwiKVxyXG4gICAgICAgIGxldCBjYXJkUHJpY2UgPSBjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wcmljZVwiKTtcclxuICAgICAgICBsZXQgY2FyZFBheSA9ICBjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wYXlcIik7XHJcbiAgICAgICAgLy8gLy9jb25zb2woZnVsbEluZm9CbGFnbylcclxuICAgICAgICBmdW5jdGlvbiBhZGRQcmljZSh0eXBlQ2FyZCwgZnVsbEluZm8gLCBzZWxlY3RlZEl0ZW1zLHByaWNlLCBuYW1lQ2FyZCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZUNhcmQgPT09IFwibW9udGhcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbXMuaW5kZXhPZihuYW1lQ2FyZCkgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zLnB1c2gobmFtZUNhcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbEluZm8ucHVzaChbbmFtZUNhcmQsIHByaWNlLCB0eXBlQ2FyZF0pXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVDYXJkID09PSBcIm5vd1wiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0UHJvZC5pbmRleE9mKG5hbWVDYXJkKSA9PSAtMSkgeyBcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RQcm9kLnB1c2gobmFtZUNhcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyTm93LnB1c2gocHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxJbmZvLnB1c2goW25hbWVDYXJkLCBwcmljZV0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmFtZUFjdGl2ZUNhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jYXRhbG9nLWxpbmstLWFjdGl2ZVwiKS50ZXh0Q29udGVudFxyXG4gICAgICAgIGlmIChuYW1lQWN0aXZlQ2F0ZWdvcnkgPT0gXCLQlNC70Y8g0LrQstCw0YDRgtC40YBcIiAmJiBuYW1lQWN0aXZlQ2F0ZWdvcnkgPT0gbmFtZUNhdGVnb3J5Q2FyZE1vbWVudCAmJiAhYnRuLmNsYXNzTGlzdC5jb250YWlucyhcInJhdGVfX2NvbnRlbnQtY2FyZC1hZGQtLWFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICBhZGRQcmljZShjYXJkUGF5LCBmdWxsSW5mb0JsYWdvLCBzZWxlY3RlZEJsYWdvLCBjYXJkUHJpY2UsIHBhcmVudENhcmROYW1lKVxyXG4gICAgICAgIH0gZWxzZSBpZiAobmFtZUFjdGl2ZUNhdGVnb3J5ID09IFwi0JTQu9GPINGH0LDRgdGC0L3Ri9GFINC00L7QvNC+0LJcIiAmJiBuYW1lQWN0aXZlQ2F0ZWdvcnkgPT0gbmFtZUNhdGVnb3J5Q2FyZE1vbWVudCAmJiAhYnRuLmNsYXNzTGlzdC5jb250YWlucyhcInJhdGVfX2NvbnRlbnQtY2FyZC1hZGQtLWFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICBhZGRQcmljZShjYXJkUGF5LCBmdWxsSW5mb1ByaXZhdGUsIHNlbGVjdGVkUHJpdmF0ZSAsY2FyZFByaWNlLCBwYXJlbnRDYXJkTmFtZSlcclxuICAgICAgICB9IGVsc2UgaWYgKG5hbWVBY3RpdmVDYXRlZ29yeSA9PSBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCIgJiYgbmFtZUFjdGl2ZUNhdGVnb3J5ID09IG5hbWVDYXRlZ29yeUNhcmRNb21lbnQgJiYgIWJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJyYXRlX19jb250ZW50LWNhcmQtYWRkLS1hY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgYWRkUHJpY2UoY2FyZFBheSwgZnVsbEluZm9MZWdhbCwgc2VsZWN0ZWRMZWdhbCAsY2FyZFByaWNlLCBwYXJlbnRDYXJkTmFtZSlcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIFxyXG4gICAgY29uc3QgdGFiQWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jYXRhbG9nLWxpbmstLWFjdGl2ZVwiKVxyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuICAgIGlmICh0YWJBY3RpdmUudGV4dENvbnRlbnQgPT0gXCLQlNC70Y8g0LrQstCw0YDRgtC40YBcIikge1xyXG4gICAgICAgIGZ1bGxJbmZvQmxhZ28uZm9yRWFjaChwcmljZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICBjb3VudCArPSArcHJpY2VDYXJkWzFdO1xyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHRhYkFjdGl2ZS50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDRh9Cw0YHRgtC90YvRhSDQtNC+0LzQvtCyXCIpIHtcclxuICAgICAgICBmdWxsSW5mb1ByaXZhdGUuZm9yRWFjaChwcmljZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICBjb3VudCArPSArcHJpY2VDYXJkWzFdO1xyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHRhYkFjdGl2ZS50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCIpIHtcclxuICAgICAgICBmdWxsSW5mb0xlZ2FsLmZvckVhY2gocHJpY2VDYXJkID0+IHtcclxuICAgICAgICAgICAgY291bnQgKz0gK3ByaWNlQ2FyZFsxXTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdF9fcmlnaHQtaXRlbS1wcmljZS0tbW9udGhcIikudGV4dENvbnRlbnQgPSBgJHtjb3VudH0g4oK9YDtcclxuICAgIGlmIChwcmljZU5vdy5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZXJQcmljZU5vdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuICAgICAgICB3cmFwcGVyUHJpY2VOb3cuY2xhc3NMaXN0LmFkZChcInJlc3VsdF9fcmlnaHQtaXRlbVwiKTtcclxuICAgICAgICBsZXQgY291bnROb3cgPSAwXHJcbiAgICAgICAgaWYgKHRhYkFjdGl2ZS50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDQutCy0LDRgNGC0LjRgFwiKSB7XHJcbiAgICAgICAgICAgIHByaWNlT2JqLmJsYWdvLnByaWNlTmV3LmZvckVhY2gocHJpY2VDYXJkID0+IHtcclxuICAgICAgICAgICAgICAgIGNvdW50Tm93ICs9ICtwcmljZUNhcmQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIGlmICh0YWJBY3RpdmUudGV4dENvbnRlbnQgPT0gXCLQlNC70Y8g0YfQsNGB0YLQvdGL0YUg0LTQvtC80L7QslwiKSB7XHJcbiAgICAgICAgICAgIHByaWNlT2JqLnByaXZhdGUucHJpY2VOZXcuZm9yRWFjaChwcmljZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY291bnROb3cgKz0gK3ByaWNlQ2FyZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2UgaWYgKHRhYkFjdGl2ZS50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCIpIHtcclxuICAgICAgICAgICAgcHJpY2VPYmoubGVnYWwucHJpY2VOZXcuZm9yRWFjaChwcmljZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY291bnROb3cgKz0gK3ByaWNlQ2FyZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd3JhcHBlclByaWNlTm93LmlubmVySFRNTCA9IGBcclxuICAgICAgICAvLyAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX3JpZ2h0LWl0ZW0tbmFtZVwiPtCV0LTQuNC90L7RgNCw0LfQvtCy0LDRjyDQvtC/0LvQsNGC0LA6PC9zcGFuPlxyXG4gICAgICAgIC8vICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fcmlnaHQtaXRlbS1wcmljZVwiPiR7Y291bnROb3d9IOKCvTwvc3Bhbj5cclxuICAgICAgICAvLyBgO1xyXG4gICAgICAgIGxldCBzdHI7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDM3NSkge1xyXG4gICAgICAgICAgICBzdHIgPSBcItCe0LTQvdC+0YDQsNC30L7QstCw0Y8g0L7Qv9C70LDRgtCwOlwiXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3RyID0gXCLQldC00LjQvdC+0YDQsNC30L7QstCw0Y8g0L7Qv9C70LDRgtCwOlwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdWx0X19yaWdodC1pdGVtLS1tb250aFwiKS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVCZWdpblwiLFxyXG4gICAgICAgIGBcclxuICAgICAgICA8bGkgY2xhc3M9J3Jlc3VsdF9fcmlnaHQtaXRlbSByZXN1bHRfX3JpZ2h0LWl0ZW0tLW5vdyc+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19yaWdodC1pdGVtLW5hbWVcIj4ke3N0cn08L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19yaWdodC1pdGVtLXByaWNlXCI+JHtjb3VudE5vd30g4oK9PC9zcGFuPlxyXG4gICAgICAgIDwvbGk+XHJcbiAgICBgKVxyXG4gICAgICAgIC8vIGJlZm9yZUJlZ2luXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGNvbnN0IG5ld0VsZW1lbnRzID0gZWxlbWVudHMubWFwKGl0ZW09PiB7XHJcbiAgICAvLyAgICAgbGV0IGNhcmQ7XHJcbiAgICAvLyAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwicmF0ZV9fY29udGVudC1jYXJkLWFkZFwiKSkge1xyXG4gICAgLy8gICAgICAgICBjYXJkID0gaXRlbS5jbG9zZXN0KFwiW2RhdGEtY2FyZC1jb25zdHJ1Y3Rvcl1cIik7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgY2FyZCA9IGl0ZW07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgICAgICAvL2NvbnNvbChwcmljZU9iailcclxuICAgIC8vICAgICAgICAgY29uc3QgY2FyZE5hbWUgPSBjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1uYW1lXCIpO1xyXG4gICAgLy8gICAgICAgICBjb25zdCBjYXJkUHJpY2UgPSBjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2FyZC1jb25zdHJ1Y3Rvci1wcmljZVwiKTtcclxuICAgIC8vICAgICByZXR1cm4gYFxyXG4gICAgLy8gICAgICAgICA8bGkgY2xhc3M9XCJyZXN1bHRfX2xlZnQtaXRlbVwiPlxyXG4gICAgLy8gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX2xlZnQtaXRlbS1uYW1lXCI+JHtjYXJkTmFtZX08L3NwYW4+XHJcbiAgICAvLyAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtLXByaWNlXCI+JHtjYXJkUHJpY2V9IOKCvTwvc3Bhbj5cclxuICAgIC8vICAgICAgICAgPC9saT5cclxuICAgIC8vICAgICBgO1xyXG4gICAgLy8gfSlcclxuXHJcbiAgICBsZXQgYXJyVmlldyA9IFtdXHJcbiAgICBpZiAodGFiQWN0aXZlLnRleHRDb250ZW50ID09IFwi0JTQu9GPINC60LLQsNGA0YLQuNGAXCIpIHtcclxuICAgICAgICBmdWxsSW5mb0JsYWdvLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbFZpZXcgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX2xlZnQtaXRlbS1uYW1lXCI+JHtlbFswXX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW0tcHJpY2VcIj4ke2VsWzFdfSDigr08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgICAgIGFyclZpZXcucHVzaChlbFZpZXcpXHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSBpZiAodGFiQWN0aXZlLnRleHRDb250ZW50ID09IFwi0JTQu9GPINGH0LDRgdGC0L3Ri9GFINC00L7QvNC+0LJcIikge1xyXG4gICAgICAgIGZ1bGxJbmZvUHJpdmF0ZS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxWaWV3ID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW0tbmFtZVwiPiR7ZWxbMF19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtLXByaWNlXCI+JHtlbFsxXX0g4oK9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICBhcnJWaWV3LnB1c2goZWxWaWV3KVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHRhYkFjdGl2ZS50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCIpIHtcclxuICAgICAgICBmdWxsSW5mb0xlZ2FsLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbFZpZXcgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX2xlZnQtaXRlbS1uYW1lXCI+JHtlbFswXX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW0tcHJpY2VcIj4ke2VsWzFdfSDigr08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgICAgIGFyclZpZXcucHVzaChlbFZpZXcpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdF9fbGVmdC1saXN0XCIpO1xyXG4gICAgcGFyZW50LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBhcnJWaWV3LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgcGFyZW50LmlubmVySFRNTCArPSBpdGVtO1xyXG4gICAgfSlcclxuXHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZV9fY2F0YWxvZy1saW5rXCIpLmZvckVhY2godGFiID0+IHtcclxuICAgICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgaWYgKHRhYi50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDQutCy0LDRgNGC0LjRgFwiKSB7XHJcbiAgICAgICAgICAgICAgICBmdWxsSW5mb0JsYWdvLmZvckVhY2gocHJpY2VDYXJkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSArcHJpY2VDYXJkWzFdO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0YWIudGV4dENvbnRlbnQgPT0gXCLQlNC70Y8g0YfQsNGB0YLQvdGL0YUg0LTQvtC80L7QslwiKSB7XHJcbiAgICAgICAgICAgICAgICBmdWxsSW5mb1ByaXZhdGUuZm9yRWFjaChwcmljZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9ICtwcmljZUNhcmRbMV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhYi50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDQsdC40LfQvdC10YHQsCDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5XCIpIHtcclxuICAgICAgICAgICAgICAgIGZ1bGxJbmZvTGVnYWwuZm9yRWFjaChwcmljZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9ICtwcmljZUNhcmRbMV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRfX3JpZ2h0LWl0ZW0tcHJpY2UtLW1vbnRoXCIpLnRleHRDb250ZW50ID0gYCR7Y291bnR9IOKCvWA7XHJcbiAgICAgICAgICAgIGlmIChwcmljZU5vdy5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlclByaWNlTm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlclByaWNlTm93LmNsYXNzTGlzdC5hZGQoXCJyZXN1bHRfX3JpZ2h0LWl0ZW1cIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgY291bnROb3cgPSAwXHJcbiAgICAgICAgICAgICAgICAvLyBwcmljZU5vdy5mb3JFYWNoKGl0ZW1Ob3cgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvdW50Tm93ICs9ICtpdGVtTm93O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFiLnRleHRDb250ZW50ID09IFwi0JTQu9GPINC60LLQsNGA0YLQuNGAXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VPYmouYmxhZ28ucHJpY2VOZXcuZm9yRWFjaChwcmljZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnROb3cgKz0gK3ByaWNlQ2FyZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYi50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDRh9Cw0YHRgtC90YvRhSDQtNC+0LzQvtCyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VPYmoucHJpdmF0ZS5wcmljZU5ldy5mb3JFYWNoKHByaWNlQ2FyZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudE5vdyArPSArcHJpY2VDYXJkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFiLnRleHRDb250ZW50ID09IFwi0JTQu9GPINCx0LjQt9C90LXRgdCwINC4INC+0YDQs9Cw0L3QuNC30LDRhtC40LlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZU9iai5sZWdhbC5wcmljZU5ldy5mb3JFYWNoKHByaWNlQ2FyZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudE5vdyArPSArcHJpY2VDYXJkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyB9KVxyXG4gICAgICAgICAgICAgICAgLy8gd3JhcHBlclByaWNlTm93LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIC8vICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fcmlnaHQtaXRlbS1uYW1lXCI+0JXQtNC40L3QvtGA0LDQt9C+0LLQsNGPINC+0L/Qu9Cw0YLQsDo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX3JpZ2h0LWl0ZW0tcHJpY2VcIj4ke2NvdW50Tm93fSDigr08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAvLyBgO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cjtcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAzNzUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcItCe0LTQvdC+0YDQsNC30L7QstCw0Y8g0L7Qv9C70LDRgtCwOlwiXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IFwi0JXQtNC40L3QvtGA0LDQt9C+0LLQsNGPINC+0L/Qu9Cw0YLQsDpcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRfX3JpZ2h0LWl0ZW0tLW1vbnRoXCIpLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZUJlZ2luXCIsXHJcbiAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9J3Jlc3VsdF9fcmlnaHQtaXRlbSByZXN1bHRfX3JpZ2h0LWl0ZW0tLW5vdyc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX3JpZ2h0LWl0ZW0tbmFtZVwiPiR7c3RyfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fcmlnaHQtaXRlbS1wcmljZVwiPiR7Y291bnROb3d9IOKCvTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIGApXHJcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVCZWdpblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgbGV0IGFyclZpZXcgPSBbXVxyXG4gICAgaWYgKHRhYi50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDQutCy0LDRgNGC0LjRgFwiKSB7XHJcbiAgICAgICAgZnVsbEluZm9CbGFnby5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxWaWV3ID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW0tbmFtZVwiPiR7ZWxbMF19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtLXByaWNlXCI+JHtlbFsxXX0g4oK9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICBhcnJWaWV3LnB1c2goZWxWaWV3KVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHRhYi50ZXh0Q29udGVudCA9PSBcItCU0LvRjyDRh9Cw0YHRgtC90YvRhSDQtNC+0LzQvtCyXCIpIHtcclxuICAgICAgICBmdWxsSW5mb1ByaXZhdGUuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsVmlldyA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJyZXN1bHRfX2xlZnQtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtLW5hbWVcIj4ke2VsWzBdfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRfX2xlZnQtaXRlbS1wcmljZVwiPiR7ZWxbMV19IOKCvTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICAgICAgYXJyVmlldy5wdXNoKGVsVmlldylcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIGlmICh0YWIudGV4dENvbnRlbnQgPT0gXCLQlNC70Y8g0LHQuNC30L3QtdGB0LAg0Lgg0L7RgNCz0LDQvdC40LfQsNGG0LjQuVwiKSB7XHJcbiAgICAgICAgZnVsbEluZm9MZWdhbC5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxWaWV3ID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0X19sZWZ0LWl0ZW0tbmFtZVwiPiR7ZWxbMF19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdF9fbGVmdC1pdGVtLXByaWNlXCI+JHtlbFsxXX0g4oK9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICBhcnJWaWV3LnB1c2goZWxWaWV3KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRfX2xlZnQtbGlzdFwiKTtcclxuICAgIHBhcmVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgYXJyVmlldy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIHBhcmVudC5pbm5lckhUTUwgKz0gaXRlbTtcclxuICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbn1cclxufSlcclxuXHJcbiIsIndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgJCgnLmdhbGxlcnknKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgIHZhciBpdGVtX3RvcCA9ICQodGhpcykuZmluZCgnLmctc2xpZGVyLS10b3AnKTtcbiAgICAgICAgdmFyIGl0ZW1fdGh1bWIgPSAkKHRoaXMpLmZpbmQoJy5nLXNsaWRlci0tdGh1bWJzJyk7XG4gICAgXG4gICAgICAgIHZhciBwcmV2ID0gJCh0aGlzKS5maW5kKCcuZy1zbGlkZXJfX2J0bi0tcHJldicpO1xuICAgICAgICB2YXIgbmV4dCA9ICQodGhpcykuZmluZCgnLmctc2xpZGVyX19idG4tLW5leHQnKTtcbiAgICBcbiAgICAgICAgdmFyIGdhbGxlcnlUaHVtYnMgPSBuZXcgU3dpcGVyKGl0ZW1fdGh1bWIsIHtcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTUsXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxuICAgICAgICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgd2F0Y2hTbGlkZXNWaXNpYmlsaXR5OiB0cnVlLFxuICAgICAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgICAgICAgICAgNjM5OiB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBnYWxsZXJ5VG9wID0gbmV3IFN3aXBlcihpdGVtX3RvcCwge1xuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICAgICAgICBuZXh0RWw6IG5leHQsXG4gICAgICAgICAgICAgICAgcHJldkVsOiBwcmV2LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRodW1iczoge1xuICAgICAgICAgICAgICAgIHN3aXBlcjogZ2FsbGVyeVRodW1ic1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn0pXG4iLCJ0cnkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaGFtYnVyZ2VyLWljb25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gZS50YXJnZXQuY2xvc2VzdChcIiNoYW1idXJnZXItaWNvblwiKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKVxuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1kb3duIG5hdlwiKS5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyX19uYXYtYWN0aXZlXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1kb3duIG5hdlwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyX19uYXYtYWN0aXZlXCIpXG4gICAgICAgIH1cbiAgICB9KVxufSBjYXRjaCB7IH1cblxuXG4vLyB0cmFuc2l0aW9uOiAuNHMgYWxsOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgeW91dHViZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIueW91dHViZVwiKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeW91dHViZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBzY3JlZW4gPSAkKGkpLmF0dHJcclxuICAgICAgICB2YXIgc291cmNlID0gXCJodHRwczovL2ltZy55b3V0dWJlLmNvbS92aS9cIiArIHlvdXR1YmVbaV0uZGF0YXNldC5lbWJlZCArIFwiL3NkZGVmYXVsdC5qcGdcIjtcclxuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBpbWFnZS5zcmMgPSBzb3VyY2U7XHJcbiAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB5b3V0dWJlW2ldLmFwcGVuZENoaWxkKGltYWdlKTtcclxuICAgICAgICB9KGkpKTtcclxuXHJcbiAgICAgICAgeW91dHViZVtpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsIFwiMFwiKTtcclxuICAgICAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImFsbG93ZnVsbHNjcmVlblwiLCBcIlwiKTtcclxuICAgICAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiICsgdGhpcy5kYXRhc2V0LmVtYmVkICsgXCI/c2hvd2luZm89MSZhdXRvcGxheT0xJnJlbD0wXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0pKCk7IiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKFwiZnJhbWVib3JkZXJcIikpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZnJhbWVib3JkZXJcIilcclxuICAgICAgICAgICAgZWwuc3R5bGUuYm9yZGVyID0gXCIwcHhcIlxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtZW51LWdsYXZub2UtbWVueXVcIikuY2xhc3NMaXN0LmFkZChcImhlYWRlcl9fbmF2LWFjdGl2ZVwiKVxyXG59KSIsIiB0cnkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1pbnB1dC1sb3VwXVwiKS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnRFbCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIuaGVhZGVyLXVwX19pbWdcIik7XG4gICAgICAgIHBhcmVudEVsLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLXVwX19mb3JtLWlucHV0XCIpLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXItdXBfX2Zvcm0taW5wdXQtLWFjdGl2ZVwiKVxuICAgIH0pXG4gICAgXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWlucHV0LWxvdXBdXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIChlKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItdXBfX2Zvcm0taW5wdXRcIikuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlci11cF9fZm9ybS1pbnB1dC0tYWN0aXZlXCIpXG4gICAgICAgIH0sIDUwMClcbiAgICB9KVxuICAgIFxuIH0gY2F0Y2gge30iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXItZG93bl9fd3JhcHBlciAubWVudV9fc3VibWVudVwiKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGl0ZW0uY2xvc2VzdChcIi5oZWFkZXItZG93bl9fd3JhcHBlclwiKTtcclxuICAgICAgICBjb25zdCBsaW5rID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLWRvd25fX2xpbmtcIilcclxuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoXCJuby1jbGlja1wiKVxyXG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59KVxyXG4iLCJ0cnkge1xuXG5cbiAgICBmdW5jdGlvbiBvcGVuTW9kYWwoYnRuc1NlbGVjdG9yLCBtb2RhbFNlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGJ0bnNTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb2RhbFNlbGVjdG9yKTtcbiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWwtYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXF1ZXN0JykgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRDYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgICAgICAgICAgICAgIGlucHV0Q2FyZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiaGlkZGVuXCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uY2xvc2VzdChcIi5yYXRlX19jb250ZW50LWNhcmRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGJ1dHRvbi5jbG9zZXN0KFwiLnJhdGVfX2NvbnRlbnQtY2FyZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZUNhcmQgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jb250ZW50LWNhcmQtaGVhZGVyXCIpLnRleHRDb250ZW50LnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybU1vZGFsID0gbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5mby1ibG9ja1wiKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmNsb3Nlc3QoXCIucmF0ZV9fY29udGVudC1pdGVtXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyaWYgPSBidXR0b24uY2xvc2VzdChcIi5yYXRlX19jb250ZW50LWl0ZW1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyaWYucXVlcnlTZWxlY3RvcihcInNwYW4ucmF0ZV9fY2hlY2tib3hcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyaWZUZXh0ID0gdGFyaWYucXVlcnlTZWxlY3RvcihcInNwYW4ucmF0ZV9fY2hlY2tib3hcIikudGV4dENvbnRlbnQudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJpZklucCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJpZklucC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiaGlkZGVuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmlmSW5wLnZhbHVlID0gdGFyaWZUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmlmSW5wLm5hbWUgPSBcInNlcnZpY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJpZklucC5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Nb2RhbC5hcHBlbmQodGFyaWZJbnApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jYXRhbG9nLWxpbmstLWFjdGl2ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jYXRhbG9nLWxpbmstLWFjdGl2ZVwiKS50ZXh0Q29udGVudC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFNlcnZpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFNlcnZpY2Uuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImhpZGRlblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0U2VydmljZS52YWx1ZSA9IHNlcnZpY2VOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTZXJ2aWNlLm5hbWUgPSBcImNhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFNlcnZpY2UuY2xhc3NMaXN0LmFkZChcImRlbGV0ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Nb2RhbC5hcHBlbmQoaW5wdXRTZXJ2aWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q2FyZC52YWx1ZSA9IG5hbWVDYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dENhcmQubmFtZSA9IFwibmFtZUNhcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDYXJkLmNsYXNzTGlzdC5hZGQoXCJkZWxldGVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Nb2RhbC5hcHBlbmQoaW5wdXRDYXJkKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcmljZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiaGlkZGVuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcmljZS5uYW1lID0gXCJwcmljZUNhcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UHJpY2UuY2xhc3NMaXN0LmFkZChcImRlbGV0ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5xdWVyeVNlbGVjdG9yKFwiLnJhdGVfX2NvbnRlbnQtY2FyZC1wcmljZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UHJpY2UudmFsdWUgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jb250ZW50LWNhcmQtcHJpY2VcIikudGV4dENvbnRlbnQudHJpbSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UHJpY2UudmFsdWUgPSAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Nb2RhbC5hcHBlbmQoaW5wdXRQcmljZSlcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5jbG9zZXN0KFwiLnJlc3VsdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtTW9kYWwgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbmZvLWJsb2NrXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhdGVfX2NvbnRlbnQtLWFjdGl2ZVwiKVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZV9fY29udGVudC1nYWxrYVwiKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGl0ZW0pLmRpc3BsYXkgPT0gXCJibG9ja1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IGl0ZW0uY2xvc2VzdChcIi5yYXRlX19jb250ZW50LWNhcmRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkTmFtZSA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jb250ZW50LWNhcmQtaGVhZGVyXCIpLnRleHRDb250ZW50LnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXJkUHJpY2UgPSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmQucXVlcnlTZWxlY3RvcihcIi5yYXRlX19jb250ZW50LWNhcmQtcHJpY2VcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZFByaWNlID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLnJhdGVfX2NvbnRlbnQtY2FyZC1wcmljZVwiKS50ZXh0Q29udGVudC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkUHJpY2UgPSBgMCDigr1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VXcmFwID0gY2FyZC5jbG9zZXN0KFwiLnJhdGVfX2NvbnRlbnQtd3JhcHBlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VOYW1lID0gc2VydmljZVdyYXAucXVlcnlTZWxlY3RvcihcImRpdi5jaGVja2JveF9fdGV4dFwiKS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHNlcnZpY2VXcmFwLmNsb3Nlc3QoXCIucmF0ZV9fY29udGVudFwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1haW5jb250ZW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0YWxvZ05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1tYWludGFiPVwiJHtjb250ZW50fVwiXWApLnRleHRDb250ZW50LnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucENhcmROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wU2VydmljZU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnBDYXRhbG9nTmFtZT0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wQ2FyZFByaWNlPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucENhcmROYW1lLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJoaWRkZW5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnBDYXJkTmFtZS52YWx1ZSA9IGNhcmROYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wQ2FyZE5hbWUubmFtZSA9IFwibmFtZUNhcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucENhcmROYW1lLmNsYXNzTGlzdC5hZGQoXCJkZWxldGVcIilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucFNlcnZpY2VOYW1lLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJoaWRkZW5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnBTZXJ2aWNlTmFtZS52YWx1ZSA9IHNlcnZpY2VOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wU2VydmljZU5hbWUubmFtZSA9IFwic2VydmljZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wU2VydmljZU5hbWUuY2xhc3NMaXN0LmFkZChcImRlbGV0ZVwiKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wQ2F0YWxvZ05hbWUuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImhpZGRlblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucENhdGFsb2dOYW1lLnZhbHVlID0gY2F0YWxvZ05hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnBDYXRhbG9nTmFtZS5uYW1lID0gXCJjYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wQ2F0YWxvZ05hbWUuY2xhc3NMaXN0LmFkZChcImRlbGV0ZVwiKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wQ2FyZFByaWNlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJoaWRkZW5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnBDYXJkUHJpY2UudmFsdWUgPSBjYXJkUHJpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnBDYXJkUHJpY2UubmFtZSA9IFwicHJpY2VDYXJkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnBDYXJkUHJpY2UuY2xhc3NMaXN0LmFkZChcImRlbGV0ZVwiKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybU1vZGFsLmFwcGVuZChpbnBDYXRhbG9nTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtTW9kYWwuYXBwZW5kKGlucFNlcnZpY2VOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Nb2RhbC5hcHBlbmQoaW5wQ2FyZE5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybU1vZGFsLmFwcGVuZChpbnBDYXJkUHJpY2UpXG5cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWwtYWN0aXZlXCIpIHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKSkge1xuICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC1hY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuc3R5bGUub3ZlcmZsb3cgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGlmKG1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsZXRlXCIpLmZvckVhY2goZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBvcGVuTW9kYWwoJ1tkYXRhLWFwcGxpY2F0aW9uXScsICdbZGF0YS1tb2RhbF0nKTtcbiAgICB9IGNhdGNoIHt9XG4gICAgdHJ5IHtcbiAgICAgICAgb3Blbk1vZGFsKCdbZGF0YS1yZXF1ZXN0XScsICdbZGF0YS1tb2RhbC1yZXF1ZXN0XScpO1xuICAgIH0gY2F0Y2gge31cbiAgICB0cnkge1xuICAgICAgICBvcGVuTW9kYWwoXCJbZGF0YS1hZGRRdWVzdGlvbl1cIiwgXCJbZGF0YS1tb2RhbC1xdWVzdGlvbl1cIik7XG4gICAgfSBjYXRjaHt9XG59IGNhdGNoIHsgfSIsInRyeSB7XG4gICAgbGV0IHNvdW5kVm9sdW1lID0gdHJ1ZTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1yYWRpb0J0bl1cIikuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJyYWRpb19fcGF1c2VcIikpIHtcbiAgICAgICAgICAgIGlmIChzb3VuZFZvbHVtZSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYWRpb19wbGF5ZXInKS52b2x1bWUgPSAwLjU7XG4gICAgICAgICAgICAgICAgc291bmRWb2x1bWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcInJhZGlvLWJ0bi0tYWN0aXZlXCIpO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYWRpb19fcGxheVwiKS5jbGFzc0xpc3QuYWRkKFwicmFkaW8tYnRuLS1hY3RpdmVcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFkaW9fcGxheWVyJykpXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFkaW9fcGxheWVyJykucGxheSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJyYWRpby1idG4tLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmFkaW9fX3BhdXNlXCIpLmNsYXNzTGlzdC5hZGQoXCJyYWRpby1idG4tLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYWRpb19wbGF5ZXInKS5wYXVzZSgpXG4gICAgICAgIH1cbiAgICB9KVxufSlcblxuY29uc3Qgc291bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtc291bmRdXCIpXG5zb3VuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudE1lbnUgPSBzb3VuZC5jbG9zZXN0KFwiLnJhZGlvX19tZW51XCIpXG4gICAgY29uc3QgcGFyZW50ID0gc291bmQuY2xvc2VzdChcIi5zb3VuZFwiKTtcbiAgICBjb25zdCB3cmFwcGVyID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc291bmRfX3dyYXBwZXJcIilcbiAgICBjb25zdCByZWd1bGFyID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmFkaW9fX3NvdW5kLXJlZ3VsYXJcIik7XG4gICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhZGlvX19yYW5nZVwiKVxuICAgIGlmICghcGFyZW50LmNsYXNzTGlzdC5jb250YWlucyhcInNvdW5kLS1hY3RpdmVcIikpIHtcbiAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoXCJzb3VuZC0tYWN0aXZlXCIpXG4gICAgICAgIHJlZ3VsYXIuY2xhc3NMaXN0LmFkZChcInJhZGlvX19zb3VuZC1yZWd1bGFyLS1hY3RpdmVcIilcbiAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKFwic291bmRfX3dyYXBwZXItLWFjdGl2ZVwiKVxuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gMTIzNikge1xuICAgICAgICAgICAgcmFuZ2Uuc3R5bGUud2lkdGggPSBcIjY0JVwiO1xuICAgICAgICAgICAgcGFyZW50TWVudS5zdHlsZS53aWR0aCA9IFwiMTUlXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnRNZW51LnN0eWxlLndpZHRoID0gXCIyNSVcIjtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKFwic291bmQtLWFjdGl2ZVwiKVxuICAgICAgICByZWd1bGFyLmNsYXNzTGlzdC5yZW1vdmUoXCJyYWRpb19fc291bmQtcmVndWxhci0tYWN0aXZlXCIpXG4gICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShcInNvdW5kX193cmFwcGVyLS1hY3RpdmVcIilcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDEyMzYpIHtcbiAgICAgICAgICAgIHJhbmdlLnN0eWxlLndpZHRoID0gXCI2NiVcIjtcbiAgICAgICAgICAgIHBhcmVudE1lbnUuc3R5bGUud2lkdGggPSBcIjclXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnRNZW51LnN0eWxlLndpZHRoID0gXCI3JVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHBhcmVudC5jbGFzc0xpc3QuYWRkKFwic291bmQtLWFjdGl2ZVwiKVxufSlcbnZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG52YXIgSW50ZXJuZXRFeHBsb3JlciA9IGZhbHNlO1xuXHRpZigoL21vemlsbGEvLnRlc3QodXNlckFnZW50KSAmJiAhL2ZpcmVmb3gvLnRlc3QodXNlckFnZW50KSAmJiAhL2Nocm9tZS8udGVzdCh1c2VyQWdlbnQpICYmICEvc2FmYXJpLy50ZXN0KHVzZXJBZ2VudCkgJiYgIS9vcGVyYS8udGVzdCh1c2VyQWdlbnQpKSB8fCAvbXNpZS8udGVzdCh1c2VyQWdlbnQpKVxuXHRcdEludGVybmV0RXhwbG9yZXIgPSB0cnVlO1xuXG5pZiAoIUludGVybmV0RXhwbG9yZXIpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhZGlvX19zb3VuZC1yZWd1bGFyXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgICBsZXQgdmFsO1xuICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT0gMTAwKSB7XG4gICAgICAgICAgICB2YWwgPSAxXG4gICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWUgPD0gOSkge1xuICAgICAgICAgICAgdmFsID0gYDAuMCR7ZS50YXJnZXQudmFsdWV9YFxuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LnZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICB2YWwgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSBgMC4ke2UudGFyZ2V0LnZhbHVlfWA7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhZGlvX3BsYXllcicpLnZvbHVtZSA9IHZhbFxuICAgIH0pXG59IGVsc2Uge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmFkaW9fX3NvdW5kLXJlZ3VsYXJcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZSkgPT4ge1xuICAgICAgICBsZXQgdmFsO1xuICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT0gMTAwKSB7XG4gICAgICAgICAgICB2YWwgPSAxXG4gICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWUgPD0gOSkge1xuICAgICAgICAgICAgdmFsID0gYDAuMCR7ZS50YXJnZXQudmFsdWV9YFxuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LnZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICB2YWwgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSBgMC4ke2UudGFyZ2V0LnZhbHVlfWA7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhZGlvX3BsYXllcicpLnZvbHVtZSA9IHZhbFxuICAgIH0pXG59XG5cbmNvbnN0IGZvb3RlckRvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fZG93blwiKTtcbmlmICh3aW5kb3cub3V0ZXJXaWR0aCA8PSAxMTAwKSB7XG4gICAgZm9vdGVyRG93bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgY29uc3QgbWluaVJhZGlvID0gZm9vdGVyRG93bi5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fZG93bi1tb2JpbGUtY29udGFpbmVyXCIpO1xuICAgICAgICBjb25zdCBtYWluUmFkaW8gPSBmb290ZXJEb3duLnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX19kb3duLWRlc2MtY29udGFpbmVyXCIpO1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdChcIi5yYWRpb19fcGF1c2VcIikgfHwgZS50YXJnZXQuY2xvc2VzdChcIi5yYWRpb19fcGxheVwiKSB8fCBlLnRhcmdldC5jbG9zZXN0KFwiLnJhZGlvX19zb3VuZFwiKSkge1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobWluaVJhZGlvLmNsYXNzTGlzdC5jb250YWlucyhcImZvb3Rlcl9fZG93bi1tb2JpbGUtY29udGFpbmVyLS1hY3RpdmVcIikpIHtcbiAgICAgICAgICAgICAgICBtaW5pUmFkaW8uY2xhc3NMaXN0LnJlbW92ZShcImZvb3Rlcl9fZG93bi1tb2JpbGUtY29udGFpbmVyLS1hY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgbWFpblJhZGlvLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2Rvd24tZGVzYy1jb250YWluZXItLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWluaVJhZGlvLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2Rvd24tbW9iaWxlLWNvbnRhaW5lci0tYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIG1haW5SYWRpby5jbGFzc0xpc3QucmVtb3ZlKFwiZm9vdGVyX19kb3duLWRlc2MtY29udGFpbmVyLS1hY3RpdmVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxufSBlbHNlIHtcbiAgICBmb290ZXJEb3duLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBtaW5pUmFkaW8gPSBmb290ZXJEb3duLnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX19kb3duLW1vYmlsZS1jb250YWluZXJcIik7XG4gICAgICAgIGNvbnN0IG1haW5SYWRpbyA9IGZvb3RlckRvd24ucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2Rvd24tZGVzYy1jb250YWluZXJcIik7XG4gICAgICAgIG1pbmlSYWRpby5jbGFzc0xpc3QucmVtb3ZlKFwiZm9vdGVyX19kb3duLW1vYmlsZS1jb250YWluZXItLWFjdGl2ZVwiKTtcbiAgICAgICAgbWFpblJhZGlvLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2Rvd24tZGVzYy1jb250YWluZXItLWFjdGl2ZVwiKTtcbiAgICB9KVxuICAgIGZvb3RlckRvd24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBtaW5pUmFkaW8gPSBmb290ZXJEb3duLnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX19kb3duLW1vYmlsZS1jb250YWluZXJcIik7XG4gICAgICAgIGNvbnN0IG1haW5SYWRpbyA9IGZvb3RlckRvd24ucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2Rvd24tZGVzYy1jb250YWluZXJcIik7XG4gICAgICAgIG1pbmlSYWRpby5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyX19kb3duLW1vYmlsZS1jb250YWluZXItLWFjdGl2ZVwiKTtcbiAgICAgICAgbWFpblJhZGlvLmNsYXNzTGlzdC5yZW1vdmUoXCJmb290ZXJfX2Rvd24tZGVzYy1jb250YWluZXItLWFjdGl2ZVwiKTtcbiAgICB9KVxufVxuXG5cbn0gY2F0Y2h7fVxuXG4iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJhdGVfX2NvbnRlbnQtaXRlbVwiKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGlmIChpdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZV9fY29udGVudC1jYXJkXCIpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBpdGVtLnJlbW92ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZV9fY29udGVudFwiKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGlmICghaXRlbS5xdWVyeVNlbGVjdG9yKFwiLnJhdGVfX2NvbnRlbnQtaXRlbVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IGl0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1tYWluY29udGVudFwiKVxyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtbWFpbnRhYj1cIiR7aWR9XCJdYCkpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLW1haW50YWI9XCIke2lkfVwiXWApLnJlbW92ZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhdGUtLWNvbnN0cnVjdG9yXCIpKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW1haW50YWJdXCIpLmZvckVhY2goKGJsb2NrLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoXCJyYXRlX19jYXRhbG9nLWxpbmstLWFjdGl2ZVwiKVxyXG4gICAgICAgICAgICBpZihpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGJsb2NrLmdldEF0dHJpYnV0ZShcImRhdGEtbWFpbnRhYlwiKVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtbWFpbmNvbnRlbnQ9XCIke2lkfVwiXWApLmNsYXNzTGlzdC5hZGQoXCJyYXRlX19jb250ZW50LS1hY3RpdmVcIilcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoXCJyYXRlX19jYXRhbG9nLWxpbmstLWFjdGl2ZVwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSkiLCJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgIC8vIGlmICh3aW5kb3cub3V0ZXJXaWR0aCA8PSA5NzYpIHtcbiAgICAvLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImhlYWRlciAuaGVhZGVyLWRvd25fX3dyYXBwZXJcIikuZm9yRWFjaChpdGVtID0+IHtcbiAgICAvLyAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgZGUoaXRlbSlcbiAgICAvLyAgICAgICAgIH0pXG5cbiAgICAvLyAgICAgfSlcbiAgICAvLyB9XG4gICAgaWYgKHdpbmRvdy5vdXRlcldpZHRoID49IDk3Nykge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItZG93bi1hY3Rpb3ZlLW1vYmlsZVwiKSkge1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItZG93bi1hY3Rpb3ZlLW1vYmlsZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyLWRvd24tYWN0aW92ZS1tb2JpbGVcIilcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXItZG93bl9fbGlzdC1tb2JpbGVcIikpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyLWRvd25fX2xpc3QtbW9iaWxlXCIpLmZvckVhY2goZWwgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJoZWFkZXItZG93bl9fbGlzdC1tb2JpbGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlci1kb3duX19saXN0LW1vYmlsZVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGVhZGVyLWRvd25fX2xpc3QtYmxvY2tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlci1kb3duX19saXN0LWJsb2NrXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJoZWFkZXItZG93bl9fbGlzdC1mYWRlSW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlci1kb3duX19saXN0LWZhZGVJblwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIiwidHJ5IHtcblxuICAgIC8vIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbi0tYWxsLXJhdGVcIikpIHtcbiAgICAvLyAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmF0ZV9fY2F0YWxvZy1saW5rLS1hY3RpdmVcIikpIHtcbiAgICAvLyAgICAgICAgIGxldCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmF0ZV9fY2F0YWxvZy1saW5rLS1hY3RpdmVcIik7XG4gICAgLy8gICAgICAgICAgbGV0IHVybCA9IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtdXJsXCIpO1xuICAgIC8vICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uLS1hbGwtcmF0ZVwiKS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHVybClcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiB0YWJzKGJ0blNlbGVjdG9yLCBjb250ZW50U2VsZWN0b3IgPSBcIlwiLCBhY3RpdmVDbGFzc0J0biA9IFwiXCIsIGFjdGl2ZUNsYXNzQ29udGVudCA9IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGJ0blNlbGVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7Y29udGVudFNlbGVjdG9yfV1gKVxuICAgICAgICAgICAgYnRucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgYnRucy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3NCdG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChhY3RpdmVDbGFzc0J0bik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzc0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvcldpdGhvdXRCcmFja2V0ID0gYnRuU2VsZWN0b3Iuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoc2VsZWN0b3JXaXRob3V0QnJhY2tldCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske2NvbnRlbnRTZWxlY3Rvcn09XCIke2lkfVwiXWApLmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3NDb250ZW50KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHRhYnMoXCJbZGF0YS1tYWluVGFiXVwiLCBcImRhdGEtbWFpbkNvbnRlbnRcIiwgXCJyYXRlX19jYXRhbG9nLWxpbmstLWFjdGl2ZVwiLCBcInJhdGVfX2NvbnRlbnQtLWFjdGl2ZVwiKTtcbiAgICB9KVxufSBjYXRjaCB7fSIsIi8vVEHQkdCrXG5cbnRyeSB7XG4gICAgY29uc3QgY29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBhZ2UgW2RhdGEtY29udGVudF1cIikuZm9yRWFjaCgoY29udGVudCwgaSkgPT4ge1xuICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwYWdlX19jb250ZW50LS1hY3RpdmVcIilcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChcInBhZ2VfX2NvbnRlbnQtLWFjdGl2ZVwiKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgaWYgKHdpbmRvdy5vdXRlcldpZHRoIDw9IDk3Nikge1xuICAgICAgICBjb25zdCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBhZ2VfX3JpZ2h0LS10YWJzXCIpXG4gICAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCB0YXJnZXQ7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdChcIi5wYWdlX19yaWdodC1pdGVtLS1hY3RpdmVcIikpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBlLnRhcmdldC5jbG9zZXN0KFwiLnBhZ2VfX3JpZ2h0LWl0ZW0tLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGFnZV9fcmlnaHQtaXRlbS0tYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KFwiLnBhZ2VfX3JpZ2h0LWxpc3QtLWFjdGl2ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xvc2VzdChcInVsXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJwYWdlX19yaWdodC1saXN0LS1hY3RpdmVcIilcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoXCIucGFnZV9fcmlnaHQtLXRhYnNcIikuY2xhc3NMaXN0LnJlbW92ZShcInBhZ2VfX3JpZ2h0LS10YWJzLWFjdGl2ZVwiKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbG9zZXN0KFwiLnBhZ2VfX3JpZ2h0LS10YWJzXCIpLmNsYXNzTGlzdC5hZGQoXCJwYWdlX19yaWdodC0tdGFicy1hY3RpdmVcIilcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoXCJ1bFwiKS5jbGFzc0xpc3QuYWRkKFwicGFnZV9fcmlnaHQtbGlzdC0tYWN0aXZlXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBjb25zdCBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wYWdlIFtkYXRhLXRhYl1cIikuZm9yRWFjaCgoYnRuLCBpKSA9PiB7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwicGFnZV9fcmlnaHQtaXRlbS0tYWN0aXZlXCIpXG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcInBhZ2VfX3JpZ2h0LWl0ZW0tLWFjdGl2ZVwiKVxuICAgICAgICB9XG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkQnRuID0gYnRuLmdldEF0dHJpYnV0ZShcImRhdGEtdGFiXCIpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudFdpdGhJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNvbnRlbnQ9JyR7aWRCdG59J11gKVxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wYWdlX19yaWdodC1pdGVtLS1hY3RpdmVcIikuZm9yRWFjaCgoYnRuT2xkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGJ0bk9sZC5jbGFzc0xpc3QucmVtb3ZlKFwicGFnZV9fcmlnaHQtaXRlbS0tYWN0aXZlXCIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wYWdlX19jb250ZW50LS1hY3RpdmVcIikuZm9yRWFjaCgoY29udGVudE9sZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb250ZW50T2xkLmNsYXNzTGlzdC5yZW1vdmUoXCJwYWdlX19jb250ZW50LS1hY3RpdmVcIilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb250ZW50V2l0aElkLmNsYXNzTGlzdC5hZGQoXCJwYWdlX19jb250ZW50LS1hY3RpdmVcIilcbiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwicGFnZV9fcmlnaHQtaXRlbS0tYWN0aXZlXCIpXG4gICAgICAgIH0pXG4gICAgfSlcbn0gY2F0Y2ggeyB9XG5cblxuLy8gJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5wYWdlX19pbm5lciAucGFnZV9fcmlnaHQtbGlzdCBkaXZcIiwgZnVuY3Rpb24gKCkge1xuLy8gICAgIHZhciBudW1iZXJJbmRleCA9ICQodGhpcykuaW5kZXgoKTtcblxuLy8gICAgIGlmICghJCh0aGlzKS5pcyhcImFjdGl2ZVwiKSkge1xuLy8gICAgICAgICAkKFwiLnBhZ2VfX2lubmVyIC5wYWdlX19yaWdodC1saXN0IGRpdlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZSBwYWdlX19yaWdodC1pdGVtLS1hY3RpdmVcIik7XG4vLyAgICAgICAgICQoXCIucGFnZV9faW5uZXIgdWwgbGlcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmUgXCIpO1xuXG4vLyAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmUgcGFnZV9fcmlnaHQtaXRlbS0tYWN0aXZlXCIpO1xuLy8gICAgICAgICAkKFwiLnBhZ2VfX2lubmVyIHVsXCIpLmZpbmQoXCJsaTplcShcIiArIG51bWJlckluZGV4ICsgXCIpXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG4vLyAgICAgICAgIHZhciBsaXN0SXRlbUhlaWdodCA9ICQoXCIucGFnZV9faW5uZXIgdWxcIilcbi8vICAgICAgICAgICAgIC5maW5kKFwibGk6ZXEoXCIgKyBudW1iZXJJbmRleCArIFwiKVwiKVxuLy8gICAgICAgICAgICAgLmlubmVySGVpZ2h0KCk7XG4vLyAgICAgICAgICQoXCIucGFnZV9faW5uZXIgdWxcIikuaGVpZ2h0KGxpc3RJdGVtSGVpZ2h0ICsgXCJweFwiKTtcbi8vICAgICB9XG4vLyB9KTtcblxuXG4iLCJcbi8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCgnI3ByZWxvYWRlcicpKSB7XG4gICAgICAgIGNvbnN0IHByZWxvYWRlciA9ICQoJyNwcmVsb2FkZXInKVxuICAgIGNvbnN0IGltYWdlc0NvdW50ID0gJCgnaW1nJykubGVuZ3RoXG4gICAgY29uc3QgcGVyY2VudCA9IDEwMCAvIGltYWdlc0NvdW50O1xuICAgIGxldCBwcm9ncmVzcyA9IDBcbiAgICBsZXQgbG9hZGVkSW1nID0gMFxuICAgICAgICAvLyBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmVsb2FkZXJcIikpIHtcbiAgICAvLyB9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJlbG9hZGVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICAgICAgbGV0IHRpbWUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmVsb2FkZXJcIikuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gYC0ke2NvdW50fXB4YFxuICAgICAgICB9LCA3KTtcbiAgICAgICAgJChcIi5kd3MtcHJvZ3Jlc3MtYmFyXCIpLmNpcmN1bGFyUHJvZ3Jlc3Moe1xuICAgICAgICAgICAgY29sb3I6IFwiI0QyMjczMFwiLFxuICAgICAgICAgICAgbGluZV93aWR0aDogMTAsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTEwcHhcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjExMHB4XCIsXG4gICAgICAgICAgICBwZXJjZW50OiAwLFxuICAgICAgICAgICAgY291bnRlcl9jbG9ja3dpc2U6IGZhbHNlLFxuICAgICAgICAgICAgc3RhcnRpbmdfcG9zaXRpb246IDIwMFxuICAgICAgICB9KS5jaXJjdWxhclByb2dyZXNzKCdhbmltYXRlJywgcGVyY2VudCwgMTAwMCk7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXNDb3VudDsgaSsrKXsgLy8g0YHQvtC30LTQsNC10Lwg0LrQu9C+0L0g0LjQt9C+0LHRgNCw0LbQtdC90LjQuVxuICAgICAgICAgICAgbGV0IGltZ19jb3B5ICAgICAgICAgICAgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICBpbWdfY29weS5zcmMgICAgICAgID0gZG9jdW1lbnQuaW1hZ2VzW2ldLnNyYztcbiAgICAgICAgICAgICAgICBpbWdfY29weS5vbmxvYWQgICAgID0gaW1nX2xvYWQ7XG4gICAgICAgICAgICAgICAgaW1nX2NvcHkub25lcnJvciAgICA9IGltZ19sb2FkO1xuICAgICAgICB9IFxuICAgICAgICBsZXQgY291bnQgPSAwXG5cbiAgICAgICAgZnVuY3Rpb24gaW1nX2xvYWQoKSB7XG4gICAgICAgICAgICBwcm9ncmVzcyArPSBwZXJjZW50O1xuICAgICAgICAgICAgbG9hZGVkSW1nKys7ICAgIFxuICAgICAgICAgICAgaWYgKHByb2dyZXNzID49IDEwMCB8fCBsb2FkZWRJbWcgPT0gaW1hZ2VzQ291bnQpe1xuICAgICAgICAgICAgICAgIHByZWxvYWRlci5kZWxheSgyMDApLmZhZGVPdXQoJ3Nsb3cnKTtcbiAgICAgICAgICAgICAgICAvLyBxQm9keS5jc3MoJ292ZXJmbG93JywgJycpO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoXCIuZHdzLXByb2dyZXNzLWJhclwiKS5jaXJjdWxhclByb2dyZXNzKCdhbmltYXRlJywgcHJvZ3Jlc3MsIDUwMCk7XG4gICAgICAgIH0gICAgICBcbiAgICB9XG4gICAgXG4vLyB9KTsgXG5cbiJdfQ==
